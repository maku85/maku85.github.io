import{s as G,o as r,c as f,j as n,F as b,r as C,v as J,e as o,w as e,k as $,t as m,m as M,g as x,l as y,d as K,x as Q,h as W,f as c,q as F}from"./ikNkmfyd.js";import{_ as X}from"./Bap8NfK3.js";import{V as N,a as h,b as V}from"./BjNsgXJM.js";import{V as I}from"./Cetqe74y.js";import Y from"./CeKDjq3B.js";import{u as Z}from"./BpcXhgfv.js";import{u as tt}from"./BjKu7zrT.js";import"./Dnd51l0P.js";function et(_,u){const{title:a,titleTemplate:d,...l}=_;return tt({title:a,titleTemplate:d,_flatMeta:l},{...u,transform(s){const i=G({...s._flatMeta});return delete s._flatMeta,{...s,meta:i}}})}const st={class:"toc__links-container"},nt={__name:"ArticleToc",props:{links:{type:Array,required:!0}},setup(_){const u=a=>(a||[]).flatMap(l=>{let s=[l];if(l.children){const i=u(l.children);s=[l,...i]}return s});return(a,d)=>{const l=M;return r(),f("nav",null,[d[0]||(d[0]=n("header",null,[n("h2",{class:"toc__title uppercase"},"Table of contents")],-1)),n("ul",st,[(r(!0),f(b,null,C(u(_.links),s=>(r(),f("li",{key:s.id,class:J(`toc__link-wrapper toc__link-wrapper--${s.depth}`)},[o(l,{class:"toc__link",to:"#"+s.id},{default:e(()=>[$(m(s.text),1)]),_:2},1032,["to"])],2))),128))])])}}},ot={class:"uppercase text-emerald-600 flex items-center"},lt={class:"font-semibold text-3xl"},at={class:"uppercase text-emerald-600 flex items-center justify-end"},rt={class:"font-semibold text-3xl text-end"},it={__name:"PrevNext",props:{prev:{type:Object,required:!1,default:()=>{}},next:{type:Object,required:!1,default:()=>{}}},setup(_){return(u,a)=>{const d=M;return r(),x(V,null,{default:e(()=>[o(N,null,{default:e(()=>{var l,s;return[(l=_.prev)!=null&&l.title?(r(),x(h,{key:0,cols:"12",xs:"12"},{default:e(()=>{var i;return[o(d,{to:"/notes"+((i=_.prev)==null?void 0:i._path)},{default:e(()=>{var t;return[n("div",ot,[o(I,null,{default:e(()=>a[0]||(a[0]=[$("mdi-arrow-left")])),_:1}),a[1]||(a[1]=n("span",null,"Previous article",-1))]),n("div",lt,m((t=_.prev)==null?void 0:t.title),1)]}),_:1},8,["to"])]}),_:1})):y("",!0),(s=_.next)!=null&&s.title?(r(),x(h,{key:1,cols:"12",xs:"12"},{default:e(()=>[o(d,{to:"/notes"+_.next._path},{default:e(()=>[n("div",at,[a[2]||(a[2]=$(" Next article ")),o(I,{icon:"mdi-arrow-right"})]),n("div",rt,m(_.next.title),1)]),_:1},8,["to"])]),_:1})):y("",!0)]}),_:1})]),_:1})}}},ct={class:"article__header"},_t={class:"article__titles"},ut={key:0,class:"article__categories_container"},dt={class:"article__title"},pt={key:0,class:"article__categories_container d-flex flex-wrap"},ft={class:"articles__navigation"},wt=K({__name:"[slug]",async setup(_){var T,q;let u,a;const d=Q(),{lang:l,slug:s}=d.params,{data:i}=([u,a]=W(async()=>Z(`article-${s}`,async()=>{const L=F(l,"articles").where({_path:`/${l}/articles/${s}`}).findOne(),p=F().only(["_path","title","description"]).sort({date:1}).findSurround(`/${l}/articles/${s}`);return{article:await L,surround:await p}})),u=await u,a(),u),t=(T=i==null?void 0:i.value)==null?void 0:T.article,[P,z]=((q=i==null?void 0:i.value)==null?void 0:q.surround)||[];return et({title:t==null?void 0:t.title,ogTitle:t==null?void 0:t.title,description:t==null?void 0:t.description,ogDescription:t==null?void 0:t.description,ogImage:`https://site.com/${t==null?void 0:t.img}`}),(L,p)=>{const j=M,A=X,E=nt,H=it,U=Y;return r(),x(V,{id:"article",fluid:""},{default:e(()=>[o(U,{value:c(t)},{empty:e(()=>p[0]||(p[0]=[n("p",null,"No content found.",-1)])),default:e(()=>{var B,R,D;return[n("div",ct,[n("div",_t,[(B=c(t))!=null&&B.tags.length?(r(),f("div",ut,[(r(!0),f(b,null,C(c(t).tags,(v,w)=>(r(),x(j,{key:v,class:"article__category",to:"/notes/categories/"+v},{default:e(()=>[$(" #"+m(v.toUpperCase())+m(w<c(t).tags.length-1?",":"")+"Â  ",1)]),_:2},1032,["to"]))),128))])):y("",!0),n("h1",dt,m((R=c(t))==null?void 0:R.title),1),o(A,{class:"article__description",value:(D=c(t))==null?void 0:D.excerpt},null,8,["value"])])]),o(N,{class:"article__container"},{default:e(()=>[o(h,{cols:"12",sm:"12"},{default:e(()=>[o(N,null,{default:e(()=>{var v,w,O;return[(O=(w=(v=c(t))==null?void 0:v.body)==null?void 0:w.toc)!=null&&O.links.length?(r(),x(h,{key:0,cols:"12",sm:"3",class:"order-first order-md-last"},{default:e(()=>{var k,g,S;return[o(E,{class:"toc pl-4 pb-4",links:(S=(g=(k=c(t))==null?void 0:k.body)==null?void 0:g.toc)==null?void 0:S.links},null,8,["links"])]}),_:1})):y("",!0),o(h,{cols:"12",sm:"9",class:"order-last order-md-first"},{default:e(()=>{var k;return[o(A,{class:"article__content",value:c(t)||{}},null,8,["value"]),(k=c(t))!=null&&k.tags.length?(r(),f("div",pt,[p[1]||(p[1]=n("span",{class:"article__categories_label"},"Tags:",-1)),(r(!0),f(b,null,C(c(t).tags,g=>(r(),x(j,{key:g,class:"article__category",to:"/notes/categories/"+g},{default:e(()=>[$(m(g),1)]),_:2},1032,["to"]))),128))])):y("",!0),p[2]||(p[2]=n("div",{class:"line-left line-top"},[n("div",{class:"line-block"},[n("span")])],-1))]}),_:1})]}),_:1})]),_:1})]),_:1}),n("div",ft,[o(V,null,{default:e(()=>[o(H,{prev:c(P),next:c(z)},null,8,["prev","next"])]),_:1})])]}),_:1},8,["value"])]),_:1})}}});export{wt as default};
//# sourceMappingURL=CYzNcVRb.js.map
