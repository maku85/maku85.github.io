import{_ as F}from"./WP62Av_W.js";import{_ as S}from"./KUkfpIF6.js";import{d as j,m as E,w as x,c as R,o as n,a as C,b as l,e as c,u as i,f as t,g as a,r as g,F as b,i as N,t as $,h as z,_ as G}from"./C5pPxF5r.js";import H from"./CB6Jn5LK.js";import{_ as I}from"./C5cwasLI.js";import{q as h,u as q}from"./eJfKsYNa.js";import"./CyQ3Natx.js";import"./D9EOuGow.js";const J={class:"flex flex-col md:flex-row gap-10"},K={class:"flex flex-col"},M={class:"text-center mt-8"},Q={class:"min-w-[300px]"},U={class:"border-l-2 border-[rgba(0,0,0,.1)] pl-6"},W={class:"pb-10"},X={class:"pb-10"},Y={class:"mt-4"},A=5,ut=j({__name:"[slug]",async setup(Z){let s,r;const d=E().params.slug;let p=0;const _={published:!0};d&&Object.assign(_,{tags:{$contains:d}});const B=([s,r]=x(()=>h("en/articles").only([]).where(_).find()),s=await s,r(),s).length,{data:P,refresh:V}=([s,r]=x(()=>q("posts",()=>h("en/articles").where(_).sort({title:1}).skip(p).limit(A).find())),s=await s,r(),s),w={path:"/en/articles",where:[{published:!0}],limit:15,sort:[{title:1}]},{data:m}=([s,r]=x(()=>q("settings",()=>h("/").findOne())),s=await s,r(),s),L=R(()=>{var u;return((u=m==null?void 0:m.value)==null?void 0:u.notes.categories)||[]});function y(u){p+=u,V(),window.scrollTo({top:0,behavior:"smooth"})}return(u,e)=>{const O=F,T=S,k=G,v=H,D=I;return n(),C(D,{id:"articles"},{default:l(()=>[c(O,{text:`'${i(d)}' Notes`,subtitle:" Articles and Advice"},null,8,["text"]),t("div",J,[t("div",null,[t("div",K,[(n(!0),a(b,null,g(i(P),o=>(n(),C(T,{key:o.id,article:o},null,8,["article"]))),128))]),t("div",M,[i(p)>0?(n(),a("button",{key:0,class:"uppercase bg-white py-2 px-4 rounded",onClick:e[0]||(e[0]=o=>y(-5))}," prev ")):N("",!0),e[2]||(e[2]=t("span",{class:"ml-5"},null,-1)),i(p)+A<i(B)?(n(),a("button",{key:1,class:"uppercase bg-white py-2 px-4 rounded",onClick:e[1]||(e[1]=o=>y(5))}," next ")):N("",!0)])]),t("div",Q,[t("aside",U,[t("section",W,[e[4]||(e[4]=t("h2",{class:"text-lg font-bold uppercase text-emerald-600 mb-4"}," Other Notes ",-1)),c(v,{query:w},{"not-found":l(()=>e[3]||(e[3]=[t("p",null,"No notes found.",-1)])),default:l(({list:o})=>[t("ul",null,[(n(!0),a(b,null,g(o,f=>(n(),a("li",{key:f._path,class:"mb-1"},[c(k,{to:"/notes"+f._path},{default:l(()=>[t("h5",null,"- "+$(f.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),t("section",X,[e[6]||(e[6]=t("h2",{class:"text-lg font-bold uppercase text-emerald-600"}," Categories ",-1)),c(v,{query:w},{"not-found":l(()=>e[5]||(e[5]=[t("p",null,"No categories found.",-1)])),default:l(()=>[t("ul",Y,[(n(!0),a(b,null,g(i(L),o=>(n(),a("li",{key:o.path,class:"uppercase mb-1"},[c(k,{to:"/notes/categories/"+o.path},{default:l(()=>[z(" #"+$(o.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])])]),_:1})}}});export{ut as default};
//# sourceMappingURL=U-2SQABe.js.map
