import{_ as E}from"./Title.vue.0be6833e.js";import{_ as J}from"./ArticleItem.vue.990bb4c9.js";import{d as z,J as G,g as w,h as H,o as n,f as m,w as t,b as o,e as l,c as r,r as k,F as y,i as s,j as p,k as $,q as x,t as q,p as I}from"./entry.faaaeb3a.js";import K from"./ContentList.11e02a8e.js";import{_ as M}from"./index.b360caeb.js";import{u as B}from"./asyncData.b296d35a.js";import{V as P,a as C,b as Q}from"./VRow.fbb54114.js";import{V as A}from"./VBtn.ac528651.js";import"./ContentQuery.a8948c51.js";import"./intersectionObserver.ad514c1a.js";const U={class:"articles__pager"},W=s("span",{class:"ml-5"},null,-1),X={class:"articles__sidebar"},Y={class:"articles__section"},Z=s("h2",{class:"articles__heading"},"Recent Posts",-1),tt=s("p",null,"No articles found.",-1),et={class:"articles__items"},st={class:"articles__section"},ot=s("h2",{class:"articles__heading"},"Categories",-1),at=s("p",null,"No categories found.",-1),nt={class:"articles__items"},L=5,wt=z({__name:"[slug]",async setup(it){let e,i;const f=G().params.slug;let c=0;const u={published:!0};f&&Object.assign(u,{tags:{$contains:f}});const R=([e,i]=w(()=>x("en/articles").only([]).where(u).find()),e=await e,i(),e).length,{data:T,refresh:j}=([e,i]=w(()=>B("posts",()=>x("en/articles").where(u).sort({date:-1}).skip(c).limit(L).find())),e=await e,i(),e),b={path:"/en/articles",where:[u],limit:15,sort:[{date:-1}]},{data:h}=([e,i]=w(()=>B("settings",()=>x("/").findOne())),e=await e,i(),e),D=H(()=>{var _;return((_=h==null?void 0:h.value)==null?void 0:_.notes.categories)||[]});function v(_){c+=_,j(),window.scrollTo({top:0,behavior:"smooth"})}return(_,d)=>{const F=E,O=J,V=I,N=K,S=M;return n(),m(S,{id:"articles"},{default:t(()=>[o(F,{text:l(f)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),o(Q,null,{default:t(()=>[o(P,null,{default:t(()=>[o(C,{cols:"12",md:"12",lg:"8"},{default:t(()=>[(n(!0),r(y,null,k(l(T),a=>(n(),m(P,{key:a.id,class:"articles__list mt-4 mb-8"},{default:t(()=>[o(C,null,{default:t(()=>[o(O,{article:a},null,8,["article"])]),_:2},1024)]),_:2},1024))),128)),s("div",U,[l(c)>0?(n(),m(A,{key:0,class:"articles__button",variant:"flat",onClick:d[0]||(d[0]=a=>v(-5))},{default:t(()=>[p("prev")]),_:1})):$("",!0),W,l(c)+L<l(R)?(n(),m(A,{key:1,class:"articles__button",variant:"flat",onClick:d[1]||(d[1]=a=>v(5))},{default:t(()=>[p("next")]),_:1})):$("",!0)])]),_:1}),o(C,{md:"12",lg:"4"},{default:t(()=>[s("div",X,[s("aside",null,[s("section",Y,[Z,o(N,{query:b},{"not-found":t(()=>[tt]),default:t(({list:a})=>[s("ul",et,[(n(!0),r(y,null,k(a,g=>(n(),r("li",{key:g._path,class:"articles__item__wrapper"},[o(V,{class:"articles__item",to:"/notes"+g._path},{default:t(()=>[p(q(g.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),s("section",st,[ot,o(N,{query:b},{"not-found":t(()=>[at]),default:t(()=>[s("ul",nt,[(n(!0),r(y,null,k(l(D),a=>(n(),r("li",{key:a.path,class:"articles__item__wrapper"},[o(V,{class:"articles__item",to:"/notes/categories/"+a.path},{default:t(()=>[p(q(a.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{wt as default};
