import{_ as F}from"./WP62Av_W.js";import{_ as S}from"./KUkfpIF6.js";import{d as j,m as E,w as f,c as R,o as n,a as C,b as a,e as c,f as t,g as l,r as x,u,F as g,i as N,t as q,h as z,_ as G}from"./C5pPxF5r.js";import H from"./CB6Jn5LK.js";import{_ as I}from"./C5cwasLI.js";import{q as b,u as $}from"./eJfKsYNa.js";import"./CyQ3Natx.js";import"./D9EOuGow.js";const J={class:"flex flex-col md:flex-row gap-10"},K={class:"flex flex-col"},M={class:"text-center mt-8"},Q={class:"min-w-[300px]"},U={class:"border-l-2 border-[rgba(0,0,0,.1)] px-6"},W={class:"pb-10"},X={class:"pb-10"},Y={class:"mt-4"},A=5,ct=j({__name:"index",async setup(Z){let s,r;const h=E().query.category;let p=0;const d={published:!0};h&&Object.assign(d,{tags:h});const B=([s,r]=f(()=>b("en/articles").only([]).where(d).find()),s=await s,r(),s).length,{data:P,refresh:V}=([s,r]=f(()=>$("posts",()=>b("en/articles").where(d).sort({title:1}).skip(p).limit(A).find())),s=await s,r(),s),y={path:"/en/articles",where:[d],limit:15,sort:[{title:1}]},{data:_}=([s,r]=f(()=>$("/",()=>b("/").findOne())),s=await s,r(),s),L=R(()=>{var i;return((i=_==null?void 0:_.value)==null?void 0:i.notes.categories)||[]});function w(i){p+=i,V(),window.scrollTo({top:0,behavior:"smooth"})}return(i,e)=>{const O=F,T=S,k=G,v=H,D=I;return n(),C(D,null,{default:a(()=>[c(O,{text:"Notes",subtitle:" Articles and Advice"}),t("div",J,[t("div",null,[t("div",K,[(n(!0),l(g,null,x(u(P),o=>(n(),C(T,{key:o.id,article:o},null,8,["article"]))),128))]),t("div",M,[u(p)>0?(n(),l("button",{key:0,class:"uppercase bg-white py-2 px-4 rounded",onClick:e[0]||(e[0]=o=>w(-5))}," prev ")):N("",!0),e[2]||(e[2]=t("span",{class:"ml-5"},null,-1)),u(p)+A<u(B)?(n(),l("button",{key:1,class:"uppercase bg-white py-2 px-4 rounded",variant:"flat",onClick:e[1]||(e[1]=o=>w(5))}," next ")):N("",!0)])]),t("div",Q,[t("aside",U,[t("section",W,[e[4]||(e[4]=t("h2",{class:"text-lg font-bold uppercase text-emerald-600 mb-4"}," Other Notes ",-1)),c(v,{query:y},{"not-found":a(()=>e[3]||(e[3]=[t("p",null,"No notes found.",-1)])),default:a(({list:o})=>[t("ul",null,[(n(!0),l(g,null,x(o,m=>(n(),l("li",{key:m._path,class:"mb-1"},[c(k,{to:"/notes"+m._path},{default:a(()=>[t("h5",null,"- "+q(m.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),t("section",X,[e[6]||(e[6]=t("h2",{class:"text-lg font-bold uppercase text-emerald-600"}," Categories ",-1)),c(v,{query:y},{"not-found":a(()=>e[5]||(e[5]=[t("p",null,"No categories found.",-1)])),default:a(()=>[t("ul",Y,[(n(!0),l(g,null,x(u(L),o=>(n(),l("li",{key:o.path,class:"uppercase mb-1"},[c(k,{to:"/notes/categories/"+o.path},{default:a(()=>[z(" #"+q(o.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])])]),_:1})}}});export{ct as default};
//# sourceMappingURL=CLk9q0r_.js.map
