import{_ as G}from"./Title.vue.322c41c0.js";import{_ as H}from"./ArticleItem.vue.93b4acdb.js";import{d as I,B as J,g as k,h as K,r as m,o as a,f as p,w as t,b as o,e as l,c as i,j as y,F as b,i as s,k as f,l as A,q as x,t as V,s as M}from"./entry.22b055fe.js";import Q from"./ContentList.c4022fe4.js";import{_ as U}from"./index.160e3fb6.js";import{u as L}from"./asyncData.89aa33a0.js";import"./ContentQuery.96544fa6.js";const W={class:"articles__pager"},X=s("span",{class:"ml-5"},null,-1),Y={class:"articles__sidebar"},Z={class:"articles__section"},tt=s("h2",{class:"articles__heading"},"Recent Posts",-1),et=s("p",null,"No articles found.",-1),st={class:"articles__items"},ot={class:"articles__section"},nt=s("h2",{class:"articles__heading"},"Categories",-1),at=s("p",null,"No categories found.",-1),_t={class:"articles__items"},T=5,ht=I({__name:"[slug]",async setup(lt){let e,_;const h=J().params.slug;let r=0;const u={published:!0};h&&Object.assign(u,{tags:{$contains:h}});const j=([e,_]=k(()=>x("en/articles").only([]).where(u).find()),e=await e,_(),e).length,{data:D,refresh:F}=([e,_]=k(()=>L("posts",()=>x("en/articles").where(u).sort({date:-1}).skip(r).limit(T).find())),e=await e,_(),e),C={path:"/en/articles",where:[u],limit:15,sort:[{date:-1}]},{data:g}=([e,_]=k(()=>L("settings",()=>x("/").findOne())),e=await e,_(),e),O=K(()=>{var c;return((c=g==null?void 0:g.value)==null?void 0:c.notes.categories)||[]});function N(c){r+=c,F(),window.scrollTo({top:0,behavior:"smooth"})}return(c,d)=>{const R=G,S=H,v=m("v-col"),$=m("v-row"),q=m("v-btn"),B=M,P=Q,E=m("v-container"),z=U;return a(),p(z,{id:"articles"},{default:t(()=>[o(R,{text:l(h)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),o(E,null,{default:t(()=>[o($,null,{default:t(()=>[o(v,{cols:"12",md:"12",lg:"8"},{default:t(()=>[(a(!0),i(b,null,y(l(D),n=>(a(),p($,{key:n.id,class:"articles__list mt-4 mb-8"},{default:t(()=>[o(v,null,{default:t(()=>[o(S,{article:n},null,8,["article"])]),_:2},1024)]),_:2},1024))),128)),s("div",W,[l(r)>0?(a(),p(q,{key:0,class:"articles__button",variant:"flat",onClick:d[0]||(d[0]=n=>N(-5))},{default:t(()=>[f("prev")]),_:1})):A("",!0),X,l(r)+T<l(j)?(a(),p(q,{key:1,class:"articles__button",variant:"flat",onClick:d[1]||(d[1]=n=>N(5))},{default:t(()=>[f("next")]),_:1})):A("",!0)])]),_:1}),o(v,{md:"12",lg:"4"},{default:t(()=>[s("div",Y,[s("aside",null,[s("section",Z,[tt,o(P,{query:C},{"not-found":t(()=>[et]),default:t(({list:n})=>[s("ul",st,[(a(!0),i(b,null,y(n,w=>(a(),i("li",{key:w._path,class:"articles__item__wrapper"},[o(B,{class:"articles__item",to:"/notes"+w._path},{default:t(()=>[f(V(w.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),s("section",ot,[nt,o(P,{query:C},{"not-found":t(()=>[at]),default:t(()=>[s("ul",_t,[(a(!0),i(b,null,y(l(O),n=>(a(),i("li",{key:n.path,class:"articles__item__wrapper"},[o(B,{class:"articles__item",to:"/notes/categories/"+n.path},{default:t(()=>[f(V(n.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{ht as default};
