{"version":3,"file":"CyyF9Fe9.js","sources":["../../../../node_modules/.pnpm/@unhead+vue@1.11.6_vue@3.5.9/node_modules/@unhead/vue/dist/index.mjs","../../../../components/Note/ArticleToc.vue","../../../../pages/notes/[lang]/articles/[slug].vue"],"sourcesContent":["import { useScript as useScript$1 } from 'unhead';\nexport { CapoPlugin, HashHydrationPlugin, createHeadCore } from 'unhead';\nimport { i as injectHead, h as headSymbol, V as Vue3 } from './shared/vue.f49591ad.mjs';\nexport { c as createHead, a as createServerHead, r as resolveUnrefHeadInput, s as setHeadInjectionHandler } from './shared/vue.f49591ad.mjs';\nimport { composableNames, whitelistSafeInput, unpackMeta } from '@unhead/shared';\nimport { u as useHead } from './shared/vue.8fc199ce.mjs';\nimport { getCurrentInstance, onMounted, isRef, watch, onScopeDispose, ref } from 'vue';\n\nconst coreComposableNames = [\n  \"injectHead\"\n];\nconst unheadVueComposablesImports = {\n  \"@unhead/vue\": [...coreComposableNames, ...composableNames]\n};\n\nfunction useHeadSafe(input, options = {}) {\n  return useHead(input, { ...options, transform: whitelistSafeInput });\n}\n\nfunction registerVueScopeHandlers(script, scope) {\n  if (!scope) {\n    return;\n  }\n  const _registerCb = (key, cb) => {\n    if (!script._cbs[key]) {\n      cb(script.instance);\n      return () => {\n      };\n    }\n    let i = script._cbs[key].push(cb);\n    const destroy = () => {\n      if (i) {\n        script._cbs[key]?.splice(i - 1, 1);\n        i = null;\n      }\n    };\n    onScopeDispose(destroy);\n    return destroy;\n  };\n  script.onLoaded = (cb) => _registerCb(\"loaded\", cb);\n  script.onError = (cb) => _registerCb(\"error\", cb);\n}\nfunction useScript(_input, _options) {\n  const input = typeof _input === \"string\" ? { src: _input } : _input;\n  const options = _options || {};\n  const head = options?.head || injectHead();\n  options.head = head;\n  const scope = getCurrentInstance();\n  options.eventContext = scope;\n  if (scope && typeof options.trigger === \"undefined\") {\n    options.trigger = onMounted;\n  } else if (isRef(options.trigger)) {\n    const refTrigger = options.trigger;\n    let off;\n    options.trigger = new Promise((resolve) => {\n      off = watch(refTrigger, (val) => {\n        if (val) {\n          resolve(true);\n        }\n      }, {\n        immediate: true\n      });\n      onScopeDispose(() => resolve(false), true);\n    }).then((val) => {\n      off?.();\n      return val;\n    });\n  }\n  head._scriptStatusWatcher = head._scriptStatusWatcher || head.hooks.hook(\"script:updated\", ({ script: s }) => {\n    s._statusRef.value = s.status;\n  });\n  const script = useScript$1(input, options);\n  script._statusRef = script._statusRef || ref(script.status);\n  registerVueScopeHandlers(script, scope);\n  return new Proxy(script, {\n    get(_, key, a) {\n      return Reflect.get(_, key === \"status\" ? \"_statusRef\" : key, a);\n    }\n  });\n}\n\nfunction useSeoMeta(input, options) {\n  const { title, titleTemplate, ...meta } = input;\n  return useHead({\n    title,\n    titleTemplate,\n    // @ts-expect-error runtime type\n    _flatMeta: meta\n  }, {\n    ...options,\n    transform(t) {\n      const meta2 = unpackMeta({ ...t._flatMeta });\n      delete t._flatMeta;\n      return {\n        // @ts-expect-error runtime type\n        ...t,\n        meta: meta2\n      };\n    }\n  });\n}\n\nfunction useServerHead(input, options = {}) {\n  const head = options.head || injectHead();\n  delete options.head;\n  if (head)\n    return head.push(input, { ...options, mode: \"server\" });\n}\n\nfunction useServerHeadSafe(input, options = {}) {\n  return useHeadSafe(input, { ...options, mode: \"server\" });\n}\n\nfunction useServerSeoMeta(input, options) {\n  return useSeoMeta(input, { ...options, mode: \"server\" });\n}\n\nconst Vue2ProvideUnheadPlugin = (_Vue, head) => {\n  _Vue.mixin({\n    beforeCreate() {\n      const options = this.$options;\n      const origProvide = options.provide;\n      options.provide = function() {\n        let origProvideResult;\n        if (typeof origProvide === \"function\")\n          origProvideResult = origProvide.call(this);\n        else\n          origProvideResult = origProvide || {};\n        return {\n          ...origProvideResult,\n          [headSymbol]: head\n        };\n      };\n    }\n  });\n};\n\nconst VueHeadMixin = {\n  created() {\n    let source = false;\n    if (Vue3) {\n      const instance = getCurrentInstance();\n      if (!instance)\n        return;\n      const options = instance.type;\n      if (!options || !(\"head\" in options))\n        return;\n      source = typeof options.head === \"function\" ? () => options.head.call(instance.proxy) : options.head;\n    } else {\n      const head = this.$options.head;\n      if (head) {\n        source = typeof head === \"function\" ? () => head.call(this) : head;\n      }\n    }\n    source && useHead(source);\n  }\n};\n\nexport { Vue2ProvideUnheadPlugin, VueHeadMixin, injectHead, unheadVueComposablesImports, useHead, useHeadSafe, useScript, useSeoMeta, useServerHead, useServerHeadSafe, useServerSeoMeta };\n","<script setup>\ndefineProps({\n  links: {\n    type: Array,\n    required: true,\n  },\n});\n\nconst flattenLinks = (links) => {\n  const _links = (links || []).flatMap((link) => {\n    let _link = [link];\n    if (link.children) {\n      const flattened = flattenLinks(link.children);\n      _link = [link, ...flattened];\n    }\n    return _link;\n  });\n  return _links;\n};\n</script>\n\n<template>\n  <nav>\n    <header>\n      <h2\n        class=\"mb-6 text-lg uppercase relative before:bg-emerald-600 before:bottom-[-10px] before:h-1 before:absolute before:w-[80px]\"\n      >\n        Table of contents\n      </h2>\n    </header>\n\n    <ul class=\"list-disc text-md\">\n      <li\n        v-for=\"link of flattenLinks(links)\"\n        :key=\"link.id\"\n        :class=\"{\n          'text-emerald-600': link.depth === 2,\n          'mb-2': link.depth === 2,\n          'mt-6': link.depth === 2,\n          'ml-4': link.depth === 3,\n          'list-[circle]': link.depth === 3,\n          'ml-8': link.depth === 4,\n          'list-[square]': link.depth === 4,\n        }\"\n      >\n        <NuxtLink class=\"font-normal\" :to=\"'#' + link.id\">{{\n          link.text\n        }}</NuxtLink>\n      </li>\n    </ul>\n  </nav>\n</template>\n","<script lang=\"ts\" setup>\nconst route = useRoute();\nconst { lang, slug } = route.params;\nconst { data } = await useAsyncData(`article-${slug}`, async () => {\n  const article = queryContent(lang as string, 'articles')\n    .where({ _path: `/${lang}/articles/${slug}` })\n    .findOne();\n\n  const surround = queryContent()\n    .only(['_path', 'title', 'description'])\n    .sort({ date: 1 })\n    .findSurround(`/${lang}/articles/${slug}`);\n  return {\n    article: await article,\n    surround: await surround,\n  };\n});\nconst article = data?.value?.article;\nconst [prev, next] = data?.value?.surround || [];\n\nuseSeoMeta({\n  title: article?.title,\n  ogTitle: article?.title,\n  description: article?.description,\n  ogDescription: article?.description,\n});\n</script>\n\n<template>\n  <div>\n    <ContentRenderer :value=\"article\">\n      <template #empty>\n        <p>No content found.</p>\n      </template>\n\n      <div class=\"mx-auto max-w-[1320px] relative flex gap-4\">\n        <div class=\"order-first order-md-last w-1/3 mt-10\">\n          <div v-if=\"article?.body?.toc?.links.length\">\n            <note-article-toc\n              class=\"toc pl-4 pb-4\"\n              :links=\"article?.body?.toc?.links\"\n            />\n          </div>\n        </div>\n\n        <div class=\"order-last order-md-first\">\n          <div class=\"text-center mx-auto max-w-[850px]\">\n            <h1 class=\"text-4xl my-6\">{{ article?.title }}</h1>\n\n            <ContentRendererMarkdown :value=\"article?.excerpt\" />\n          </div>\n\n          <ContentRendererMarkdown\n            class=\"article__content\"\n            :value=\"article || {}\"\n          />\n\n          <div\n            v-if=\"article?.tags.length\"\n            class=\"pt-8 d-flex flex-wrap align-center gap-3\"\n          >\n            <span>Tags:</span>\n            <NuxtLink\n              v-for=\"tag of article.tags\"\n              :key=\"tag\"\n              class=\"border-2 border-emerald-600 text-emerald-600 px-2 py-1\"\n              :to=\"'/notes/categories/' + tag\"\n            >\n              {{ tag }}\n            </NuxtLink>\n          </div>\n\n          <div class=\"line-left line-top\">\n            <div class=\"line-block absolute left-[-40px]\">\n              <span></span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"border-t-2 border-gray-300 mt-8\">\n        <note-prev-next :prev=\"prev\" :next=\"next\" />\n      </div>\n    </ContentRenderer>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.article__content {\n  h2 {\n    font-size: 1.5rem;\n    letter-spacing: -0.025em;\n    line-height: 1.375;\n    margin-bottom: 0.5em;\n    margin-top: 1.25em;\n\n    a {\n      font-weight: 700;\n    }\n  }\n\n  h3 {\n    font-size: 1.25rem;\n    letter-spacing: -0.025em;\n    line-height: 1.375;\n    margin-bottom: 0.5em;\n    margin-top: 1.25em;\n\n    a {\n      font-weight: 600;\n    }\n  }\n\n  p {\n    font-size: 16px;\n    line-height: 1.625;\n    margin: 0;\n    margin-top: 1rem;\n    margin-bottom: 1rem;\n    padding: 0px;\n  }\n\n  ol {\n    list-style: decimal;\n    margin-top: 30px;\n    margin-bottom: 30px;\n    padding-left: 20px;\n  }\n\n  ul {\n    list-style: disc;\n    list-style-position: inside;\n    margin-top: 30px;\n    margin-bottom: 30px;\n    padding-left: 0;\n  }\n\n  ol li {\n    counter-increment: list-number;\n    line-height: 1.7;\n    margin-bottom: 0;\n    margin-top: 0;\n    min-height: 28px;\n  }\n\n  ul ul,\n  ol ol,\n  ul ol,\n  ol ul {\n    margin-bottom: 15px;\n    margin-left: 15px;\n    margin-top: 15px;\n  }\n\n  pre {\n    border-radius: 0.5rem;\n    display: flex;\n    font-size: 14px;\n    line-height: 1.5;\n    margin-bottom: 1rem;\n    margin-top: 1rem;\n    max-width: 100%;\n    overflow: auto;\n    white-space: pre;\n  }\n\n  pre code {\n    background-color: #0d1117;\n    font-family: monospace;\n    font-weight: 400;\n    overflow: auto;\n    padding: 15px 25px;\n    width: 100%;\n  }\n}\n</style>\n"],"names":["useSeoMeta","input","options","title","titleTemplate","meta","useHead","meta2","unpackMeta","flattenLinks","links","link","_link","flattened","route","useRoute","lang","slug","data","__temp","__restore","_withAsyncContext","useAsyncData","article","queryContent","surround","_a","prev","next","_b"],"mappings":"uYAiFA,SAASA,EAAWC,EAAOC,EAAS,CAClC,KAAM,CAAE,MAAAC,EAAO,cAAAC,EAAe,GAAGC,CAAI,EAAKJ,EAC1C,OAAOK,EAAQ,CACb,MAAAH,EACA,cAAAC,EAEA,UAAWC,CACf,EAAK,CACD,GAAGH,EACH,UAAU,EAAG,CACX,MAAMK,EAAQC,EAAW,CAAE,GAAG,EAAE,SAAW,CAAA,EAC3C,cAAO,EAAE,UACF,CAEL,GAAG,EACH,KAAMD,CACd,CACK,CACL,CAAG,CACH,8GC5FA,MAAME,EAAgBC,IACJA,GAAS,CAAE,GAAE,QAASC,GAAS,CAC7C,IAAIC,EAAQ,CAACD,CAAI,EACjB,GAAIA,EAAK,SAAU,CACjB,MAAME,EAAYJ,EAAaE,EAAK,QAAQ,EAC5CC,EAAQ,CAACD,EAAM,GAAGE,CAAS,CAC5B,CACD,OAAOD,CACX,CAAG,y+DCfH,MAAME,EAAQC,IACR,CAAE,KAAAC,EAAM,KAAAC,GAASH,EAAM,OACvB,CAAE,KAAAI,CAAA,GAAe,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAC,EAAa,WAAWL,CAAI,GAAI,SAAY,CACjE,MAAMM,EAAUC,EAAaR,EAAgB,UAAU,EACpD,MAAM,CAAE,MAAO,IAAIA,CAAI,aAAaC,CAAI,EAAI,CAAA,EAC5C,UAEGQ,EAAWD,IACd,KAAK,CAAC,QAAS,QAAS,aAAa,CAAC,EACtC,KAAK,CAAE,KAAM,EAAG,EAChB,aAAa,IAAIR,CAAI,aAAaC,CAAI,EAAE,EACpC,MAAA,CACL,QAAS,MAAMM,EACf,SAAU,MAAME,CAAA,CAClB,CACD,CAAA,mBACKF,GAAUG,EAAAR,GAAA,YAAAA,EAAM,QAAN,YAAAQ,EAAa,QACvB,CAACC,EAAMC,CAAI,IAAIC,EAAAX,GAAA,YAAAA,EAAM,QAAN,YAAAW,EAAa,WAAY,GAEnC,OAAA7B,EAAA,CACT,MAAOuB,GAAA,YAAAA,EAAS,MAChB,QAASA,GAAA,YAAAA,EAAS,MAClB,YAAaA,GAAA,YAAAA,EAAS,YACtB,cAAeA,GAAA,YAAAA,EAAS,WAAA,CACzB","x_google_ignoreList":[0]}