{"version":3,"file":"DQVSZGi1.js","sources":["../../../../pages/notes/categories/[slug].vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { QueryBuilderParams } from '@nuxt/content/types';\n\nconst route = useRoute();\nconst categoryParam = route.params.slug;\n\nlet page = 0;\nconst limit = 5;\nconst query = { published: true };\nif (categoryParam) Object.assign(query, { tags: { $contains: categoryParam } });\nconst total = (await queryContent('en/articles').only([]).where(query).find()).length;\nconst { data: articles, refresh } = await useAsyncData('posts', () =>\n  queryContent('en/articles').where(query).sort({ title: 1 }).skip(page).limit(limit).find(),\n);\n\nfunction refetch(pageNumber: number) {\n  page += pageNumber;\n  refresh();\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n</script>\n\n<template>\n  <PageSection id=\"articles\">\n    <PageTitle\n      :text=\"`'${categoryParam}' Notes`\"\n      subtitle=\" Articles and Advice\"\n    />\n\n    <div class=\"flex flex-col md:flex-row gap-10\">\n      <div>\n        <div class=\"flex flex-col\">\n          <note-list-article-item\n            v-for=\"article in articles\"\n            :key=\"article.id\"\n            :article=\"article\"\n          />\n        </div>\n\n        <div class=\"text-center mt-8\">\n          <button\n            v-if=\"page > 0\"\n            class=\"uppercase bg-white py-2 px-4 rounded\"\n            @click=\"refetch(-5)\"\n          >\n            prev\n          </button>\n          <span class=\"ml-5\"></span>\n          <button\n            v-if=\"page + limit < total\"\n            class=\"uppercase bg-white py-2 px-4 rounded\"\n            @click=\"refetch(5)\"\n          >\n            next\n          </button>\n        </div>\n      </div>\n\n      <div class=\"min-w-[300px]\">\n        <aside class=\"border-l-2 border-[rgba(0,0,0,.1)] pl-6\">\n          <note-list-categories />\n          <note-list-random-notes />\n        </aside>\n      </div>\n    </div>\n  </PageSection>\n</template>\n\n<style lang=\"scss\">\nsection li .router-link-exact-active {\n  @apply font-bold text-emerald-600;\n}\n</style>\n"],"names":["limit","categoryParam","useRoute","page","query","total","__temp","__restore","_withAsyncContext","queryContent","articles","refresh","useAsyncData","refetch","pageNumber"],"mappings":"4dAOMA,EAAQ,8CAHR,MAAAC,EADQC,IACc,OAAO,KAEnC,IAAIC,EAAO,EAEL,MAAAC,EAAQ,CAAE,UAAW,IACvBH,GAAsB,OAAA,OAAOG,EAAO,CAAE,KAAM,CAAE,UAAWH,CAAc,CAAA,CAAG,EACxE,MAAAI,GAAe,CAAAC,EAAAC,CAAA,EAAAC,EAAA,IAAAC,EAAa,aAAa,EAAE,KAAK,CAAA,CAAE,EAAE,MAAML,CAAK,EAAE,KAAK,CAAA,mBAAG,OACzE,CAAE,KAAMM,EAAU,QAAAC,CAAQ,GAAU,CAAAL,EAAAC,CAAA,EAAAC,EAAA,IAAAI,EAAa,QAAS,IAC9DH,EAAa,aAAa,EAAE,MAAML,CAAK,EAAE,KAAK,CAAE,MAAO,CAAG,CAAA,EAAE,KAAKD,CAAI,EAAE,MAAMH,CAAK,EAAE,KAAK,CAAA,CAC3F,mBAEA,SAASa,EAAQC,EAAoB,CAC3BX,GAAAW,EACAH,IACR,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,SAAU,CAChD"}