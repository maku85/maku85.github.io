import{k as H,o as l,g as p,f as s,F as D,r as O,l as I,e as u,b as m,h as x,t as f,_ as y,i as v,d as G,m as J,w as K,u as d,a as Q}from"./CPHa03rg.js";import{_ as U}from"./DEkgagvg.js";import{V as B}from"./B7P5Okg3.js";import W from"./C54LYrLK.js";import{u as X,q as j}from"./BN7xTSAD.js";import{u as Y}from"./LdV0bjXW.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./C4uS0PHa.js";function Z(a,i){const{title:n,titleTemplate:c,...o}=a;return Y({title:n,titleTemplate:c,_flatMeta:o},{...i,transform(t){const r=H({...t._flatMeta});return delete t._flatMeta,{...t,meta:r}}})}const tt={class:"list-disc text-md"},et={__name:"ArticleToc",props:{links:{type:Array,required:!0}},setup(a){const i=n=>(n||[]).flatMap(o=>{let t=[o];if(o.children){const r=i(o.children);t=[o,...r]}return t});return(n,c)=>{const o=y;return l(),p("nav",null,[c[0]||(c[0]=s("header",null,[s("h2",{class:"mb-6 text-lg uppercase relative before:bg-emerald-600 before:bottom-[-10px] before:h-1 before:absolute before:w-[80px]"}," Table of contents ")],-1)),s("ul",tt,[(l(!0),p(D,null,O(i(a.links),t=>(l(),p("li",{key:t.id,class:I({"text-emerald-600":t.depth===2,"mb-2":t.depth===2,"mt-6":t.depth===2,"ml-4":t.depth===3,"list-[circle]":t.depth===3,"ml-8":t.depth===4,"list-[square]":t.depth===4})},[u(o,{class:"font-normal",to:"#"+t.id},{default:m(()=>[x(f(t.text),1)]),_:2},1032,["to"])],2))),128))])])}}},st={class:"container mx-auto px-4 py-6 flex"},ot={key:0},nt={class:"uppercase text-emerald-600 flex items-center"},rt={class:"font-semibold text-3xl"},at={key:1,class:"grow"},lt={class:"uppercase text-emerald-600 flex items-center justify-end"},it={class:"font-semibold text-3xl text-end"},ct={__name:"PrevNext",props:{prev:{type:Object,required:!1,default:()=>{}},next:{type:Object,required:!1,default:()=>{}}},setup(a){return(i,n)=>{var o,t,r;const c=y;return l(),p("div",st,[(o=a.prev)!=null&&o.title?(l(),p("div",ot,[u(c,{to:"/notes"+((t=a.prev)==null?void 0:t._path)},{default:m(()=>{var e;return[s("div",nt,[u(B,null,{default:m(()=>n[0]||(n[0]=[x("mdi-arrow-left")])),_:1}),n[1]||(n[1]=s("span",null,"Previous article",-1))]),s("div",rt,f((e=a.prev)==null?void 0:e.title),1)]}),_:1},8,["to"])])):v("",!0),(r=a.next)!=null&&r.title?(l(),p("div",at,[u(c,{to:"/notes"+a.next._path},{default:m(()=>[s("div",lt,[n[2]||(n[2]=x(" Next article ")),u(B,{icon:"mdi-arrow-right"})]),s("div",it,f(a.next.title),1)]),_:1},8,["to"])])):v("",!0)])}}},dt={class:"mx-auto max-w-[1320px] relative flex gap-4"},ut={class:"order-first order-md-last w-1/3 mt-10"},pt={key:0},_t={class:"order-last order-md-first"},mt={class:"text-center mx-auto max-w-[850px]"},ft={class:"text-4xl my-6"},xt={key:0,class:"pt-8 d-flex flex-wrap align-center gap-3"},vt={class:"border-t-2 border-gray-300 mt-8"},Mt=G({__name:"[slug]",async setup(a){var b,g;let i,n;const c=J(),{lang:o,slug:t}=c.params,{data:r}=([i,n]=K(async()=>X(`article-${t}`,async()=>{const $=j(o,"articles").where({_path:`/${o}/articles/${t}`}).findOne(),_=j().only(["_path","title","description"]).sort({date:1}).findSurround(`/${o}/articles/${t}`);return{article:await $,surround:await _}})),i=await i,n(),i),e=(b=r==null?void 0:r.value)==null?void 0:b.article,[R,S]=((g=r==null?void 0:r.value)==null?void 0:g.surround)||[];return Z({title:e==null?void 0:e.title,ogTitle:e==null?void 0:e.title,description:e==null?void 0:e.description,ogDescription:e==null?void 0:e.description}),($,_)=>{const F=et,w=U,P=y,z=ct,E=W;return l(),p("div",null,[u(E,{value:d(e)},{empty:m(()=>_[0]||(_[0]=[s("p",null,"No content found.",-1)])),default:m(()=>{var k,N,C,M,q,T,V,L,A;return[s("div",dt,[s("div",ut,[(C=(N=(k=d(e))==null?void 0:k.body)==null?void 0:N.toc)!=null&&C.links.length?(l(),p("div",pt,[u(F,{class:"toc pl-4 pb-4",links:(T=(q=(M=d(e))==null?void 0:M.body)==null?void 0:q.toc)==null?void 0:T.links},null,8,["links"])])):v("",!0)]),s("div",_t,[s("div",mt,[s("h1",ft,f((V=d(e))==null?void 0:V.title),1),u(w,{value:(L=d(e))==null?void 0:L.excerpt},null,8,["value"])]),u(w,{class:"article__content",value:d(e)||{}},null,8,["value"]),(A=d(e))!=null&&A.tags.length?(l(),p("div",xt,[_[1]||(_[1]=s("span",null,"Tags:",-1)),(l(!0),p(D,null,O(d(e).tags,h=>(l(),Q(P,{key:h,class:"border-2 border-emerald-600 text-emerald-600 px-2 py-1",to:"/notes/categories/"+h},{default:m(()=>[x(f(h),1)]),_:2},1032,["to"]))),128))])):v("",!0),_[2]||(_[2]=s("div",{class:"line-left line-top"},[s("div",{class:"line-block absolute left-[-40px]"},[s("span")])],-1))])]),s("div",vt,[u(z,{prev:d(R),next:d(S)},null,8,["prev","next"])])]}),_:1},8,["value"])])}}});export{Mt as default};
//# sourceMappingURL=CyyF9Fe9.js.map
