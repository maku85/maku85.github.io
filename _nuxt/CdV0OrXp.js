import{k as E,o as l,g as u,f as s,F as j,r as D,l as H,e as m,b as _,h,t as f,_ as b,i as x,d as G,m as I,w as J,u as d,a as K}from"./B-n1uWO2.js";import{_ as Q}from"./CCE29-WR.js";import U from"./DkYV_jZJ.js";import{u as W,q as V}from"./CwaOFWu2.js";import{u as X}from"./aHyRDlD-.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./CuosjVjq.js";function Y(a,i){const{title:n,titleTemplate:c,...o}=a;return X({title:n,titleTemplate:c,_flatMeta:o},{...i,transform(e){const r=E({...e._flatMeta});return delete e._flatMeta,{...e,meta:r}}})}const Z={class:"list-disc text-md"},ee={__name:"ArticleToc",props:{links:{type:Array,required:!0}},setup(a){const i=n=>(n||[]).flatMap(o=>{let e=[o];if(o.children){const r=i(o.children);e=[o,...r]}return e});return(n,c)=>{const o=b;return l(),u("nav",null,[c[0]||(c[0]=s("header",null,[s("h2",{class:"mb-6 text-lg uppercase relative before:bg-emerald-600 before:bottom-[-10px] before:h-1 before:absolute before:w-[80px]"}," Table of contents ")],-1)),s("ul",Z,[(l(!0),u(j,null,D(i(a.links),e=>(l(),u("li",{key:e.id,class:H({"text-emerald-600":e.depth===2,"mb-2":e.depth===2,"mt-6":e.depth===2,"ml-4":e.depth===3,"list-[circle]":e.depth===3,"ml-8":e.depth===4,"list-[square]":e.depth===4})},[m(o,{class:"font-normal",to:"#"+e.id},{default:_(()=>[h(f(e.text),1)]),_:2},1032,["to"])],2))),128))])])}}},te={class:"container mx-auto px-4 py-6 flex flex-col md:flex-row gap-8"},se={key:0},oe={class:"font-semibold text-3xl"},re={key:1,class:"grow"},ne={class:"font-semibold text-3xl text-end"},ae={__name:"PrevNext",props:{prev:{type:Object,required:!1,default:()=>{}},next:{type:Object,required:!1,default:()=>{}}},setup(a){return(i,n)=>{var o,e,r;const c=b;return l(),u("div",te,[(o=a.prev)!=null&&o.title?(l(),u("div",se,[m(c,{to:"/notes"+((e=a.prev)==null?void 0:e._path)},{default:_(()=>{var t;return[n[0]||(n[0]=s("div",{class:"uppercase text-emerald-600 flex items-center"},[s("i",{class:"mdi mdi-arrow-left"}),s("span",null,"Previous article")],-1)),s("div",oe,f((t=a.prev)==null?void 0:t.title),1)]}),_:1},8,["to"])])):x("",!0),(r=a.next)!=null&&r.title?(l(),u("div",re,[m(c,{to:"/notes"+a.next._path},{default:_(()=>[n[1]||(n[1]=s("div",{class:"uppercase text-emerald-600 flex items-center justify-end"},[h(" Next article "),s("i",{class:"mdi mdi-arrow-right"})],-1)),s("div",ne,f(a.next.title),1)]),_:1},8,["to"])])):x("",!0)])}}},le={class:"w-full"},ie={class:"mx-auto relative flex flex-col md:flex-row gap-4 mx-4 md:mx-8"},ce={class:"order-1 md:order-last min-w-[200px] px-4 mt-12"},de={key:0},ue={class:"order-last md:order-1 px-8 py-12 relative after:bg-white after:absolute after:bottom-0 after:left-0 after:w-full after:top-0 after:border-2 after:border-gray-100 after:z-[-99] after:opacity-35 rounded-md shadow-[5px_5px_rgb(0_0_0/20%)]"},pe={class:"text-center mx-auto"},me={class:"text-4xl my-6"},_e={key:0,class:"pt-8 d-flex flex-wrap align-center"},fe={class:"border-t-2 border-gray-300 mt-8"},ke=G({__name:"[slug]",async setup(a){var y,g;let i,n;const c=I(),{lang:o,slug:e}=c.params,{data:r}=([i,n]=J(async()=>W(`article-${e}`,async()=>{const w=V(o,"articles").where({_path:`/${o}/articles/${e}`}).findOne(),p=V().only(["_path","title","description"]).sort({date:1}).findSurround(`/${o}/articles/${e}`);return{article:await w,surround:await p}})),i=await i,n(),i),t=(y=r==null?void 0:r.value)==null?void 0:y.article,[O,R]=((g=r==null?void 0:r.value)==null?void 0:g.surround)||[];return Y({title:t==null?void 0:t.title,ogTitle:t==null?void 0:t.title,description:t==null?void 0:t.description,ogDescription:t==null?void 0:t.description}),(w,p)=>{const S=ee,$=Q,z=b,F=ae,P=U;return l(),u("div",le,[m(P,{value:d(t)},{empty:_(()=>p[0]||(p[0]=[s("p",null,"No content found.",-1)])),default:_(()=>{var k,N,C,M,q,T,L,A,B;return[s("div",ie,[s("div",ce,[(C=(N=(k=d(t))==null?void 0:k.body)==null?void 0:N.toc)!=null&&C.links.length?(l(),u("div",de,[m(S,{class:"toc pl-4 pb-4",links:(T=(q=(M=d(t))==null?void 0:M.body)==null?void 0:q.toc)==null?void 0:T.links},null,8,["links"])])):x("",!0)]),s("div",ue,[s("div",pe,[s("h1",me,f((L=d(t))==null?void 0:L.title),1),m($,{value:(A=d(t))==null?void 0:A.excerpt},null,8,["value"])]),m($,{class:"article__content",value:d(t)||{}},null,8,["value"]),(B=d(t))!=null&&B.tags.length?(l(),u("div",_e,[p[1]||(p[1]=s("span",{class:"mr-2"},"Tags:",-1)),(l(!0),u(j,null,D(d(t).tags,v=>(l(),K(z,{key:v,class:"border-2 border-emerald-600 text-emerald-600 px-2 py-1 mr-2",to:"/notes/categories/"+v},{default:_(()=>[h(f(v),1)]),_:2},1032,["to"]))),128))])):x("",!0),p[2]||(p[2]=s("div",{class:"line-left line-top"},[s("div",{class:"line-block absolute left-[-40px]"},[s("span")])],-1))])]),s("div",fe,[m(F,{prev:d(O),next:d(R)},null,8,["prev","next"])])]}),_:1},8,["value"])])}}});export{ke as default};
//# sourceMappingURL=CdV0OrXp.js.map
