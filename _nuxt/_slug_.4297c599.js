import{_ as E}from"./Title.vue.43191f17.js";import{_ as z}from"./ArticleItem.vue.9429cfe0.js";import{d as G,B as H,g as w,h as I,o as n,f as m,w as t,b as o,e as l,c as r,r as k,F as y,i as s,j as p,k as B,q as x,t as $,s as J}from"./entry.8561b1d9.js";import K from"./ContentList.f26d288f.js";import{_ as M}from"./index.eed632d6.js";import{u as q}from"./asyncData.930458da.js";import{V as P,a as C,b as Q}from"./VRow.ddd7a149.js";import{V as A}from"./VBtn.709fc55f.js";import"./nuxt-img.9f0e56d9.js";import"./ContentQuery.925d27ab.js";import"./VIcon.e07d9031.js";const U={class:"articles__pager"},W=s("span",{class:"ml-5"},null,-1),X={class:"articles__sidebar"},Y={class:"articles__section"},Z=s("h2",{class:"articles__heading"},"Recent Posts",-1),tt=s("p",null,"No articles found.",-1),et={class:"articles__items"},st={class:"articles__section"},ot=s("h2",{class:"articles__heading"},"Categories",-1),at=s("p",null,"No categories found.",-1),nt={class:"articles__items"},L=5,kt=G({__name:"[slug]",async setup(it){let e,i;const f=H().params.slug;let c=0;const u={published:!0};f&&Object.assign(u,{tags:{$contains:f}});const R=([e,i]=w(()=>x("en/articles").only([]).where(u).find()),e=await e,i(),e).length,{data:T,refresh:j}=([e,i]=w(()=>q("posts",()=>x("en/articles").where(u).sort({date:-1}).skip(c).limit(L).find())),e=await e,i(),e),b={path:"/en/articles",where:[u],limit:15,sort:[{date:-1}]},{data:h}=([e,i]=w(()=>q("settings",()=>x("/").findOne())),e=await e,i(),e),D=I(()=>{var _;return((_=h==null?void 0:h.value)==null?void 0:_.notes.categories)||[]});function v(_){c+=_,j(),window.scrollTo({top:0,behavior:"smooth"})}return(_,d)=>{const F=E,O=z,V=J,N=K,S=M;return n(),m(S,{id:"articles"},{default:t(()=>[o(F,{text:l(f)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),o(Q,null,{default:t(()=>[o(P,null,{default:t(()=>[o(C,{cols:"12",md:"12",lg:"8"},{default:t(()=>[(n(!0),r(y,null,k(l(T),a=>(n(),m(P,{key:a.id,class:"articles__list mt-4 mb-8"},{default:t(()=>[o(C,null,{default:t(()=>[o(O,{article:a},null,8,["article"])]),_:2},1024)]),_:2},1024))),128)),s("div",U,[l(c)>0?(n(),m(A,{key:0,class:"articles__button",variant:"flat",onClick:d[0]||(d[0]=a=>v(-5))},{default:t(()=>[p("prev")]),_:1})):B("",!0),W,l(c)+L<l(R)?(n(),m(A,{key:1,class:"articles__button",variant:"flat",onClick:d[1]||(d[1]=a=>v(5))},{default:t(()=>[p("next")]),_:1})):B("",!0)])]),_:1}),o(C,{md:"12",lg:"4"},{default:t(()=>[s("div",X,[s("aside",null,[s("section",Y,[Z,o(N,{query:b},{"not-found":t(()=>[tt]),default:t(({list:a})=>[s("ul",et,[(n(!0),r(y,null,k(a,g=>(n(),r("li",{key:g._path,class:"articles__item__wrapper"},[o(V,{class:"articles__item",to:"/notes"+g._path},{default:t(()=>[p($(g.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),s("section",st,[ot,o(N,{query:b},{"not-found":t(()=>[at]),default:t(()=>[s("ul",nt,[(n(!0),r(y,null,k(l(D),a=>(n(),r("li",{key:a.path,class:"articles__item__wrapper"},[o(V,{class:"articles__item",to:"/notes/categories/"+a.path},{default:t(()=>[p($(a.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{kt as default};
