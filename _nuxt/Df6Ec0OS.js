import{_ as S}from"./EYY6DmMM.js";import{_ as j}from"./DKnNe_zf.js";import{d as E,m as z,w,c as G,o as n,a as _,b as a,e as u,u as i,f as e,g as c,r as y,F as b,h as d,i as V,t as $,_ as H}from"./CPHa03rg.js";import I from"./DRNVcoeA.js";import{_ as J}from"./DBWmPomf.js";import{q as k,u as q}from"./BN7xTSAD.js";import{V as B}from"./DqJUF2-6.js";import"./BQj3XSEJ.js";import"./C4uS0PHa.js";import"./B7P5Okg3.js";const K={class:"container flex gap-8"},M={class:"flex flex-col gap-4"},Q={class:"text-center mt-8"},U={class:"w-1/2"},W={class:"border-l-2 border-[rgba(0,0,0,.1)] pl-4"},X={class:"pb-10"},Y={class:"pb-10"},P=5,pt=E({__name:"[slug]",async setup(Z){let s,r;const f=z().params.slug;let p=0;const m={published:!0};f&&Object.assign(m,{tags:{$contains:f}});const A=([s,r]=w(()=>k("en/articles").only([]).where(m).find()),s=await s,r(),s).length,{data:L,refresh:T}=([s,r]=w(()=>q("posts",()=>k("en/articles").where(m).sort({date:-1}).skip(p).limit(P).find())),s=await s,r(),s),v={path:"/en/articles",where:[m],limit:15,sort:[{date:-1}]},{data:g}=([s,r]=w(()=>q("settings",()=>k("/").findOne())),s=await s,r(),s),D=G(()=>{var l;return((l=g==null?void 0:g.value)==null?void 0:l.notes.categories)||[]});function h(l){p+=l,T(),window.scrollTo({top:0,behavior:"smooth"})}return(l,t)=>{const F=S,O=j,C=H,N=I,R=J;return n(),_(R,{id:"articles"},{default:a(()=>[u(F,{text:i(f)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),e("div",K,[e("div",M,[(n(!0),c(b,null,y(i(L),o=>(n(),_(O,{key:o.id,article:o},null,8,["article"]))),128)),e("div",Q,[i(p)>0?(n(),_(B,{key:0,class:"bg-white",variant:"flat",onClick:t[0]||(t[0]=o=>h(-5))},{default:a(()=>t[2]||(t[2]=[d("prev")])),_:1})):V("",!0),t[4]||(t[4]=e("span",{class:"ml-5"},null,-1)),i(p)+P<i(A)?(n(),_(B,{key:1,class:"bg-white",variant:"flat",onClick:t[1]||(t[1]=o=>h(5))},{default:a(()=>t[3]||(t[3]=[d("next")])),_:1})):V("",!0)])]),e("div",U,[e("aside",W,[e("section",X,[t[6]||(t[6]=e("h2",{class:"uppercase text-emerald-600"},"Recent Posts",-1)),u(N,{query:v},{"not-found":a(()=>t[5]||(t[5]=[e("p",null,"No articles found.",-1)])),default:a(({list:o})=>[e("ul",null,[(n(!0),c(b,null,y(o,x=>(n(),c("li",{key:x._path},[u(C,{to:"/notes"+x._path},{default:a(()=>[d($(x.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),e("section",Y,[t[8]||(t[8]=e("h2",{class:"uppercase text-emerald-600"},"Categories",-1)),u(N,{query:v},{"not-found":a(()=>t[7]||(t[7]=[e("p",null,"No categories found.",-1)])),default:a(()=>[e("ul",null,[(n(!0),c(b,null,y(i(D),o=>(n(),c("li",{key:o.path},[u(C,{to:"/notes/categories/"+o.path},{default:a(()=>[d($(o.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])])]),_:1})}}});export{pt as default};
//# sourceMappingURL=Df6Ec0OS.js.map
