import{v as K,x as Q,y as W,z as X,A as Y,o as c,c as m,i as a,F as w,r as b,l as Z,b as n,w as e,j as k,t as h,s as V,f as x,k as g,d as tt,B as et,g as st,e as s,p as nt,q as D}from"./entry.8561b1d9.js";import at from"./ContentRendererMarkdown.6c6e9819.js";import{_ as ot}from"./nuxt-img.9f0e56d9.js";import{a as $,V as C,b as O}from"./VRow.ddd7a149.js";import{V as S}from"./VIcon.e07d9031.js";import lt from"./ContentRenderer.bccb0ddf.js";import{u as ct}from"./asyncData.930458da.js";function rt(i,_){const d=K({});return Q(()=>{const p=X(i),{title:l,titleTemplate:o,...r}=p;d.value={title:l,titleTemplate:o,meta:Y(r)}}),W(d,_)}const it={class:"toc"},_t=a("header",{class:"toc__header"},[a("h2",{class:"toc__title"},"Table of contents")],-1),dt={class:"toc__links-container"},ut={__name:"ArticleToc",props:{links:{type:Array,required:!0}},setup(i){const _=d=>(d||[]).map(l=>{let o=[l];if(l.children){const r=_(l.children);o=[l,...r]}return o}).flat(1);return(d,p)=>{const l=V;return c(),m("nav",it,[_t,a("ul",dt,[(c(!0),m(w,null,b(_(i.links),o=>(c(),m("li",{key:o.id,class:Z(`toc__link-wrapper toc__link-wrapper--${o.depth}`)},[n(l,{class:"toc__link",to:"#"+o.id},{default:e(()=>[k(h(o.text),1)]),_:2},1032,["to"])],2))),128))])])}}},pt={class:"item__label"},mt={class:"item__title"},ft={class:"item__label"},ht={class:"item__title"},xt={__name:"PrevNext",props:{prev:{type:Object,required:!1,default:()=>{}},next:{type:Object,required:!1,default:()=>{}}},setup(i){return(_,d)=>{const p=V;return c(),x(C,null,{default:e(()=>{var l,o;return[(l=i.prev)!=null&&l.title?(c(),x($,{key:0,cols:"12",xs:"12",class:"item item--prev"},{default:e(()=>{var r;return[n(p,{to:"/notes"+((r=i.prev)==null?void 0:r._path)},{default:e(()=>{var t;return[a("div",pt,[n(S,null,{default:e(()=>[k("mdi-arrow-left")]),_:1}),k(" Previous article")]),a("div",mt,h((t=i.prev)==null?void 0:t.title),1)]}),_:1},8,["to"])]}),_:1})):g("",!0),(o=i.next)!=null&&o.title?(c(),x($,{key:1,cols:"12",xs:"12",class:"item item--next"},{default:e(()=>[n(p,{to:"/notes"+i.next._path},{default:e(()=>[a("div",ft,[k("Next article "),n(S,{icon:"mdi-arrow-right"})]),a("div",ht,h(i.next.title),1)]),_:1},8,["to"])]),_:1})):g("",!0)]}),_:1})}}},vt=a("p",null,"No content found.",-1),gt={class:"article__header"},kt={class:"article__titles"},yt={key:0,class:"article__categories_container"},$t={class:"article__title"},wt={class:"article__image_container"},bt=["innerHTML"],Ct={key:0,class:"article__categories_container d-flex flex-wrap"},Vt=a("span",{class:"article__categories_label"},"Tags:",-1),Nt=a("div",{class:"line-left line-top"},[a("div",{class:"line-block"},[a("span")])],-1),Tt={class:"articles__navigation"},It=tt({__name:"[slug]",async setup(i){var N,T;let _,d;const p=et(),{lang:l,slug:o}=p.params,{data:r}=([_,d]=st(async()=>ct(`article-${o}`,async()=>{const L=D(l,"articles").where({_path:`/${l}/articles/${o}`}).findOne(),M=D().only(["_path","title","description"]).sort({date:1}).findSurround(`/${l}/articles/${o}`);return{article:await L,surround:await M}})),_=await _,d(),_),t=(N=r==null?void 0:r.value)==null?void 0:N.article,[E,F]=((T=r==null?void 0:r.value)==null?void 0:T.surround)||[];return rt({title:t==null?void 0:t.title,ogTitle:t==null?void 0:t.title,description:t==null?void 0:t.description,ogDescription:t==null?void 0:t.description,ogImage:`https://site.com/${t==null?void 0:t.img}`}),(L,M)=>{const q=V,A=at,P=ot,U=ut,G=xt,J=lt;return c(),x(O,{id:"article",fluid:""},{default:e(()=>[n(J,{value:s(t)},{empty:e(()=>[vt]),default:e(()=>{var B,R,H,I;return[a("div",gt,[a("div",kt,[(B=s(t))!=null&&B.tags.length?(c(),m("div",yt,[(c(!0),m(w,null,b(s(t).tags,(u,f)=>(c(),x(q,{key:u,class:"article__category",to:"/notes/categories/"+u},{default:e(()=>[k(" #"+h(u.toUpperCase())+h(f<s(t).tags.length-1?",":"")+"Â  ",1)]),_:2},1032,["to"]))),128))])):g("",!0),a("h1",$t,h((R=s(t))==null?void 0:R.title),1),n(A,{class:"article__description",value:(H=s(t))==null?void 0:H.excerpt},null,8,["value"])])]),a("div",wt,[n(nt,{class:"article__image_wrapper","min-width":"100%","max-height":"740px"},{default:e(()=>{var u,f;return[n(P,{class:"article__image",sizes:"xs:320px sm:640px md:768px lg:1024px xl:1280px xxl:1536px",height:"auto",width:"100%",alt:(u=s(t))==null?void 0:u.title,src:"/articles"+((f=s(t))==null?void 0:f.img),preload:""},null,8,["alt","src"])]}),_:1}),(I=s(t))!=null&&I.credits?(c(),m("div",{key:0,class:"article__image__credits",innerHTML:s(t).credits},null,8,bt)):g("",!0)]),n(C,{class:"article__container"},{default:e(()=>[n($,{cols:"12",sm:"12"},{default:e(()=>[n(C,null,{default:e(()=>{var u,f,j;return[(j=(f=(u=s(t))==null?void 0:u.body)==null?void 0:f.toc)!=null&&j.links.length?(c(),x($,{key:0,cols:"12",sm:"3",class:"order-first order-md-last"},{default:e(()=>{var y,v,z;return[n(U,{class:"toc pl-4 pb-4",links:(z=(v=(y=s(t))==null?void 0:y.body)==null?void 0:v.toc)==null?void 0:z.links},null,8,["links"])]}),_:1})):g("",!0),n($,{cols:"12",sm:"9",class:"order-last order-md-first"},{default:e(()=>{var y;return[n(A,{class:"article__content",value:s(t)||{}},null,8,["value"]),(y=s(t))!=null&&y.tags.length?(c(),m("div",Ct,[Vt,(c(!0),m(w,null,b(s(t).tags,v=>(c(),x(q,{key:v,class:"article__category",to:"/notes/categories/"+v},{default:e(()=>[k(h(v),1)]),_:2},1032,["to"]))),128))])):g("",!0),Nt]}),_:1})]}),_:1})]),_:1})]),_:1}),a("div",Tt,[n(O,null,{default:e(()=>[n(G,{prev:s(E),next:s(F)},null,8,["prev","next"])]),_:1})])]}),_:1},8,["value"])]),_:1})}}});export{It as default};
