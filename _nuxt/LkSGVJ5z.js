import{k as Q,o as l,g as _,f as s,F as z,r as F,l as U,e as u,b as m,t as x,_ as b,i as p,h as R,d as W,m as X,w as Y,a as P,u as d}from"./DsQlGRXr.js";import{_ as Z}from"./B937AZrx.js";import{_ as tt}from"./j9twuK19.js";import{u as et,q as S}from"./3o86lKFW.js";import{u as st}from"./BeTqrYBp.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./BbYjkL8f.js";function ot(a,i){const{title:r,titleTemplate:c,...o}=a;return st({title:r,titleTemplate:c,_flatMeta:o},{...i,transform(t){const n=Q({...t._flatMeta});return delete t._flatMeta,{...t,meta:n}}})}const nt={class:"py-5"},rt={class:"ml-4 list-disc"},lt={__name:"ArticleToc",props:{links:{type:Array,required:!0}},setup(a){const i=r=>(r||[]).flatMap(o=>{let t=[o];if(o.children){const n=i(o.children);t=[o,...n]}return t});return(r,c)=>{const o=b;return l(),_("div",nt,[c[0]||(c[0]=s("h2",{class:"mb-6 text-lg uppercase relative before:bg-emerald-600 before:bottom-[-10px] before:h-1 before:absolute before:w-[80px]"}," Table of contents ",-1)),s("ul",rt,[(l(!0),_(z,null,F(i(a.links),t=>(l(),_("li",{key:t.id,class:U({"mb-1":t.depth===2,"mt-2":t.depth===2,"ml-4":t.depth===3,"list-[circle]":t.depth===3,"ml-8":t.depth===4,"list-[square]":t.depth===4})},[u(o,{class:"hover:text-emerald-600 border-0 text-gray-500 font-normal",to:"#"+t.id},{default:m(()=>[s("span",null,x(t.text),1)]),_:2},1032,["to"])],2))),128))])])}}},at={class:"container mx-auto px-4 py-12 flex flex-col md:flex-row gap-8"},it={key:0},ct={class:"font-semibold text-2xl"},dt={key:1,class:"grow"},_t={class:"font-semibold text-2xl text-end"},ut={__name:"PrevNext",props:{prev:{type:Object,required:!1,default:()=>{}},next:{type:Object,required:!1,default:()=>{}}},setup(a){return(i,r)=>{var o,t,n;const c=b;return l(),_("div",at,[(o=a.prev)!=null&&o.title?(l(),_("div",it,[u(c,{to:"/notes"+((t=a.prev)==null?void 0:t._path)},{default:m(()=>{var e;return[r[0]||(r[0]=s("div",{class:"uppercase text-emerald-600 flex items-center gap-1"},[s("i",{class:"text-xl mdi mdi-arrow-left"}),s("span",null,"Previous article")],-1)),s("div",ct,x((e=a.prev)==null?void 0:e.title),1)]}),_:1},8,["to"])])):p("",!0),(n=a.next)!=null&&n.title?(l(),_("div",dt,[u(c,{to:"/notes"+a.next._path},{default:m(()=>[r[1]||(r[1]=s("div",{class:"uppercase text-emerald-600 flex items-center justify-end gap-1"},[R(" Next article "),s("i",{class:"text-xl mdi mdi-arrow-right"})],-1)),s("div",_t,x(a.next.title),1)]),_:1},8,["to"])])):p("",!0)])}}},pt={class:"flex flex-col lg:flex-row gap-10"},mt={class:"lg:w-2/3"},xt={class:"text-center mx-auto px-4"},ft={class:"font-mono text-gray-800 text-3xl lg:text-4xl xl:text-4xl my-8 mb-12"},ht={key:0,class:"lg:hidden mb-12 px-4"},bt={class:"px-6 py-10 relative after:bg-white after:absolute after:bottom-0 after:left-0 after:w-full after:top-0 after:border-2 after:border-gray-100 after:z-[-99] after:opacity-35 rounded-md shadow-[5px_5px_rgb(0_0_0/20%)]"},vt={key:0,class:"mt-12 flex flex-wrap align-center gap-1"},yt={class:"relative hidden lg:block min-w-[200px]"},gt={key:0,class:"fixed"},kt={class:"border-t-2 border-gray-300 mt-8"},At=W({__name:"[slug]",async setup(a){var v,y;let i,r;const c=X(),{lang:o,slug:t}=c.params,{data:n}=([i,r]=Y(async()=>et(`article-${t}`,async()=>{const g=S(o,"articles").where({_path:`/${o}/articles/${t}`}).findOne(),f=S().only(["_path","title","description"]).sort({title:1}).findSurround(`/${o}/articles/${t}`);return{article:await g,surround:await f}})),i=await i,r(),i),e=(v=n==null?void 0:n.value)==null?void 0:v.article,[E,H]=((y=n==null?void 0:n.value)==null?void 0:y.surround)||[];return ot({title:e==null?void 0:e.title,ogTitle:e==null?void 0:e.title,description:e==null?void 0:e.description,ogDescription:e==null?void 0:e.description}),(g,f)=>{const k=lt,G=Z,I=b,J=ut,K=tt;return l(),P(K,null,{default:m(()=>{var w,$,N,C,M,q,L,T,A,B,V,j,D,O;return[s("div",pt,[s("div",mt,[s("div",xt,[s("h1",ft,x((w=d(e))==null?void 0:w.title),1)]),(C=(N=($=d(e))==null?void 0:$.body)==null?void 0:N.toc)!=null&&C.links.length?(l(),_("div",ht,[u(k,{links:(L=(q=(M=d(e))==null?void 0:M.body)==null?void 0:q.toc)==null?void 0:L.links},null,8,["links"])])):p("",!0),s("div",bt,[u(G,{class:"article__content font-mono text-gray-600",value:d(e).body||{}},null,8,["value"]),(T=d(e))!=null&&T.tags.length?(l(),_("div",vt,[(l(!0),_(z,null,F(d(e).tags,h=>(l(),P(I,{key:h,class:"border-2 border-emerald-600 text-emerald-600 px-2 py-1",to:"/notes/categories/"+h},{default:m(()=>[R(x(h),1)]),_:2},1032,["to"]))),128))])):p("",!0),f[0]||(f[0]=s("div",{class:"line-left line-top"},[s("div",{class:"line-block absolute left-[-40px]"},[s("span")])],-1))])]),s("aside",yt,[(V=(B=(A=d(e))==null?void 0:A.body)==null?void 0:B.toc)!=null&&V.links.length?(l(),_("div",gt,[u(k,{class:"toc pl-4 pb-4",links:(O=(D=(j=d(e))==null?void 0:j.body)==null?void 0:D.toc)==null?void 0:O.links},null,8,["links"])])):p("",!0)])]),s("div",kt,[u(J,{prev:d(E),next:d(H)},null,8,["prev","next"])])]}),_:1})}}});export{At as default};
//# sourceMappingURL=LkSGVJ5z.js.map
