import{_ as E}from"./REH1cjVJ.js";import{_ as z}from"./B6Jx65KF.js";import{d as G,x as H,h as k,i as I,o as l,g as d,w as e,e as n,f as r,c,r as y,F as x,j as o,k as p,l as $,q as C,t as q,m as J}from"./ikNkmfyd.js";import K from"./CH6AaZbg.js";import{_ as M}from"./DG9Zksfz.js";import{u as B}from"./BpcXhgfv.js";import{V as P,a as h,b as Q}from"./BjNsgXJM.js";import{V as A}from"./BEzV4jDY.js";import"./CwP6FBqz.js";import"./Cetqe74y.js";const U={class:"articles__pager"},W={class:"articles__sidebar"},X={class:"articles__section"},Y={class:"articles__items"},Z={class:"articles__section"},tt={class:"articles__items"},L=5,dt=G({__name:"[slug]",async setup(et){let s,i;const f=H().params.slug;let u=0;const m={published:!0};f&&Object.assign(m,{tags:{$contains:f}});const R=([s,i]=k(()=>C("en/articles").only([]).where(m).find()),s=await s,i(),s).length,{data:T,refresh:j}=([s,i]=k(()=>B("posts",()=>C("en/articles").where(m).sort({date:-1}).skip(u).limit(L).find())),s=await s,i(),s),v={path:"/en/articles",where:[m],limit:15,sort:[{date:-1}]},{data:g}=([s,i]=k(()=>B("settings",()=>C("/").findOne())),s=await s,i(),s),D=I(()=>{var _;return((_=g==null?void 0:g.value)==null?void 0:_.notes.categories)||[]});function V(_){u+=_,j(),window.scrollTo({top:0,behavior:"smooth"})}return(_,t)=>{const F=E,O=z,b=J,N=K,S=M;return l(),d(S,{id:"articles"},{default:e(()=>[n(F,{text:r(f)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),n(Q,null,{default:e(()=>[n(P,null,{default:e(()=>[n(h,{cols:"12",md:"12",lg:"8"},{default:e(()=>[(l(!0),c(x,null,y(r(T),a=>(l(),d(P,{key:a.id,class:"articles__list"},{default:e(()=>[n(h,null,{default:e(()=>[n(O,{article:a},null,8,["article"])]),_:2},1024)]),_:2},1024))),128)),o("div",U,[r(u)>0?(l(),d(A,{key:0,class:"articles__button",variant:"flat",onClick:t[0]||(t[0]=a=>V(-5))},{default:e(()=>t[2]||(t[2]=[p("prev")])),_:1})):$("",!0),t[4]||(t[4]=o("span",{class:"ml-5"},null,-1)),r(u)+L<r(R)?(l(),d(A,{key:1,class:"articles__button",variant:"flat",onClick:t[1]||(t[1]=a=>V(5))},{default:e(()=>t[3]||(t[3]=[p("next")])),_:1})):$("",!0)])]),_:1}),n(h,{md:"12",lg:"4"},{default:e(()=>[o("div",W,[o("aside",null,[o("section",X,[t[6]||(t[6]=o("h2",{class:"articles__heading"},"Recent Posts",-1)),n(N,{query:v},{"not-found":e(()=>t[5]||(t[5]=[o("p",null,"No articles found.",-1)])),default:e(({list:a})=>[o("ul",Y,[(l(!0),c(x,null,y(a,w=>(l(),c("li",{key:w._path,class:"articles__item__wrapper"},[n(b,{class:"articles__item",to:"/notes"+w._path},{default:e(()=>[p(q(w.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),o("section",Z,[t[8]||(t[8]=o("h2",{class:"articles__heading"},"Categories",-1)),n(N,{query:v},{"not-found":e(()=>t[7]||(t[7]=[o("p",null,"No categories found.",-1)])),default:e(()=>[o("ul",tt,[(l(!0),c(x,null,y(r(D),a=>(l(),c("li",{key:a.path,class:"articles__item__wrapper"},[n(b,{class:"articles__item",to:"/notes/categories/"+a.path},{default:e(()=>[p(q(a.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{dt as default};
//# sourceMappingURL=BXzt9aPT.js.map
