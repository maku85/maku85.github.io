import{_ as R}from"./BxPcjVjz.js";import{_ as S}from"./D963LwOf.js";import{d as j,m as E,w as x,c as z,o as n,a as C,b as a,e as u,u as i,f as t,g as r,r as g,F as h,i as N,h as $,t as q,_ as G}from"./B-n1uWO2.js";import H from"./Bv4M0sg6.js";import{_ as I}from"./BOOESpY6.js";import{q as b,u as P}from"./CwaOFWu2.js";import"./BKi3C4qS.js";import"./CuosjVjq.js";const J={class:"container flex flex-col md:flex-row px-4 gap-8"},K={class:"flex flex-col gap-4"},M={class:"text-center mt-8"},Q={class:"min-w-[300px]"},U={class:"border-l-2 border-[rgba(0,0,0,.1)] pl-4"},W={class:"pb-10"},X={class:"pb-10"},Y={class:"mt-4"},A=5,ct=j({__name:"[slug]",async setup(Z){let s,l;const _=E().params.slug;let p=0;const d={published:!0};_&&Object.assign(d,{tags:{$contains:_}});const B=([s,l]=x(()=>b("en/articles").only([]).where(d).find()),s=await s,l(),s).length,{data:V,refresh:L}=([s,l]=x(()=>P("posts",()=>b("en/articles").where(d).sort({date:-1}).skip(p).limit(A).find())),s=await s,l(),s),w={path:"/en/articles",where:[d],limit:15,sort:[{date:-1}]},{data:m}=([s,l]=x(()=>P("settings",()=>b("/").findOne())),s=await s,l(),s),T=z(()=>{var c;return((c=m==null?void 0:m.value)==null?void 0:c.notes.categories)||[]});function y(c){p+=c,L(),window.scrollTo({top:0,behavior:"smooth"})}return(c,e)=>{const D=R,F=S,k=G,v=H,O=I;return n(),C(O,{id:"articles"},{default:a(()=>[u(D,{text:i(_)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),t("div",J,[t("div",null,[t("div",K,[(n(!0),r(h,null,g(i(V),o=>(n(),C(F,{key:o.id,article:o},null,8,["article"]))),128))]),t("div",M,[i(p)>0?(n(),r("button",{key:0,class:"bg-white py-2 px-4 rounded",onClick:e[0]||(e[0]=o=>y(-5))}," prev ")):N("",!0),e[2]||(e[2]=t("span",{class:"ml-5"},null,-1)),i(p)+A<i(B)?(n(),r("button",{key:1,class:"bg-white py-2 px-4 rounded",onClick:e[1]||(e[1]=o=>y(5))}," next ")):N("",!0)])]),t("div",Q,[t("aside",U,[t("section",W,[e[4]||(e[4]=t("h2",{class:"uppercase text-emerald-600 mb-4"},"Recent Posts",-1)),u(v,{query:w},{"not-found":a(()=>e[3]||(e[3]=[t("p",null,"No articles found.",-1)])),default:a(({list:o})=>[t("ul",null,[(n(!0),r(h,null,g(o,f=>(n(),r("li",{key:f._path},[u(k,{to:"/notes"+f._path},{default:a(()=>[$(q(f.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),t("section",X,[e[6]||(e[6]=t("h2",{class:"uppercase text-emerald-600"},"Categories",-1)),u(v,{query:w},{"not-found":a(()=>e[5]||(e[5]=[t("p",null,"No categories found.",-1)])),default:a(()=>[t("ul",Y,[(n(!0),r(h,null,g(i(T),o=>(n(),r("li",{key:o.path,class:"uppercase"},[u(k,{to:"/notes/categories/"+o.path},{default:a(()=>[$(q(o.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])])]),_:1})}}});export{ct as default};
//# sourceMappingURL=LLZInRNX.js.map
