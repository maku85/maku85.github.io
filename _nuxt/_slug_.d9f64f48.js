import{v as K,x as Q,y as W,z as X,A as Y,o as c,c as m,i as n,F as w,r as b,l as Z,b as s,w as e,j as g,t as f,s as V,f as h,k as v,d as tt,B as et,g as st,e as o,p as nt,q as D}from"./entry.a93f6831.js";import at from"./ContentRendererMarkdown.50fa59dc.js";import{_ as ot}from"./nuxt-img.02d8dd42.js";import{a as y,V as C,b as O}from"./VRow.58a53774.js";import{V as S}from"./VIcon.e7655733.js";import lt from"./ContentRenderer.1302f3db.js";import{u as ct}from"./asyncData.d69f996d.js";function rt(i,_){const d=K({});return Q(()=>{const p=X(i),{title:l,titleTemplate:a,...r}=p;d.value={title:l,titleTemplate:a,meta:Y(r)}}),W(d,_)}const it={class:"toc"},_t=n("header",{class:"toc__header"},[n("h2",{class:"toc__title"},"Table of contents")],-1),dt={class:"toc__links-container"},ut={__name:"ArticleToc",props:{links:{type:Array,required:!0}},setup(i){const _=d=>(d||[]).map(l=>{let a=[l];if(l.children){const r=_(l.children);a=[l,...r]}return a}).flat(1);return(d,p)=>{const l=V;return c(),m("nav",it,[_t,n("ul",dt,[(c(!0),m(w,null,b(_(i.links),a=>(c(),m("li",{key:a.id,class:Z(`toc__link-wrapper toc__link-wrapper--${a.depth}`)},[s(l,{class:"toc__link",to:"#"+a.id},{default:e(()=>[g(f(a.text),1)]),_:2},1032,["to"])],2))),128))])])}}},pt={class:"item__label"},mt={class:"item__title"},ft={class:"item__label"},ht={class:"item__title"},xt={__name:"PrevNext",props:{prev:{type:Object,required:!1,default:()=>{}},next:{type:Object,required:!1,default:()=>{}}},setup(i){return(_,d)=>{const p=V;return c(),h(C,null,{default:e(()=>{var l,a;return[(l=i.prev)!=null&&l.title?(c(),h(y,{key:0,cols:"12",xs:"12",class:"item item--prev"},{default:e(()=>{var r;return[s(p,{to:"/notes"+((r=i.prev)==null?void 0:r._path)},{default:e(()=>{var t;return[n("div",pt,[s(S,null,{default:e(()=>[g("mdi-arrow-left")]),_:1}),g(" Previous article")]),n("div",mt,f((t=i.prev)==null?void 0:t.title),1)]}),_:1},8,["to"])]}),_:1})):v("",!0),(a=i.next)!=null&&a.title?(c(),h(y,{key:1,cols:"12",xs:"12",class:"item item--next"},{default:e(()=>[s(p,{to:"/notes"+i.next._path},{default:e(()=>[n("div",ft,[g("Next article "),s(S,{icon:"mdi-arrow-right"})]),n("div",ht,f(i.next.title),1)]),_:1},8,["to"])]),_:1})):v("",!0)]}),_:1})}}},vt=n("p",null,"No content found.",-1),gt={class:"article__header"},kt={class:"article__titles"},yt={key:0,class:"article__categories_container"},$t={class:"article__title"},wt={class:"article__image_container"},bt=["innerHTML"],Ct={key:0,class:"article__categories_container d-flex flex-wrap"},Vt=n("span",{class:"article__categories_label"},"Tags:",-1),Nt=n("div",{class:"line-left line-top"},[n("div",{class:"line-block"},[n("span")])],-1),Tt={class:"articles__navigation"},It=tt({__name:"[slug]",async setup(i){var N,T;let _,d;const p=et(),{lang:l,slug:a}=p.params,{data:r}=([_,d]=st(async()=>ct(`article-${a}`,async()=>{const L=D(l,"articles").where({_path:`/${l}/articles/${a}`}).findOne(),M=D().only(["_path","title","description"]).sort({date:1}).findSurround(`/${l}/articles/${a}`);return{article:await L,surround:await M}})),_=await _,d(),_),t=(N=r==null?void 0:r.value)==null?void 0:N.article,[E,F]=((T=r==null?void 0:r.value)==null?void 0:T.surround)||[];return rt({title:t==null?void 0:t.title,ogTitle:t==null?void 0:t.title,description:t==null?void 0:t.description,ogDescription:t==null?void 0:t.description,ogImage:`https://site.com/${t==null?void 0:t.img}`}),(L,M)=>{const q=V,A=at,P=ot,U=ut,G=xt,J=lt;return c(),h(O,{id:"article",fluid:""},{default:e(()=>[s(J,{value:o(t)},{empty:e(()=>[vt]),default:e(()=>{var B,R,H,I;return[n("div",gt,[n("div",kt,[(B=o(t))!=null&&B.tags.length?(c(),m("div",yt,[(c(!0),m(w,null,b(o(t).tags,(u,$)=>(c(),h(q,{key:u,class:"article__category",to:"/notes/categories/"+u},{default:e(()=>[g(" #"+f(u.toUpperCase())+f($<o(t).tags.length-1?",":"")+"Â  ",1)]),_:2},1032,["to"]))),128))])):v("",!0),n("h1",$t,f((R=o(t))==null?void 0:R.title),1),s(A,{class:"article__description",value:(H=o(t))==null?void 0:H.excerpt},null,8,["value"])])]),n("div",wt,[s(nt,{class:"article__image_wrapper"},{default:e(()=>{var u;return[s(P,{class:"article__image",sizes:"xs:320px sm:640px md:768px lg:1024px xl:1280px xxl:1536px",src:"/articles"+((u=o(t))==null?void 0:u.img),preload:""},null,8,["src"])]}),_:1}),(I=o(t))!=null&&I.credits?(c(),m("div",{key:0,class:"article__image__credits",innerHTML:o(t).credits},null,8,bt)):v("",!0)]),s(C,{class:"article__container"},{default:e(()=>[s(y,{cols:"12",sm:"12"},{default:e(()=>[s(C,null,{default:e(()=>{var u,$,j;return[(j=($=(u=o(t))==null?void 0:u.body)==null?void 0:$.toc)!=null&&j.links.length?(c(),h(y,{key:0,cols:"12",sm:"3",class:"order-first order-md-last"},{default:e(()=>{var k,x,z;return[s(U,{class:"toc pl-4 pb-4",links:(z=(x=(k=o(t))==null?void 0:k.body)==null?void 0:x.toc)==null?void 0:z.links},null,8,["links"])]}),_:1})):v("",!0),s(y,{cols:"12",sm:"9",class:"order-last order-md-first"},{default:e(()=>{var k;return[s(A,{class:"article__content",value:o(t)||{}},null,8,["value"]),(k=o(t))!=null&&k.tags.length?(c(),m("div",Ct,[Vt,(c(!0),m(w,null,b(o(t).tags,x=>(c(),h(q,{key:x,class:"article__category",to:"/notes/categories/"+x},{default:e(()=>[g(f(x),1)]),_:2},1032,["to"]))),128))])):v("",!0),Nt]}),_:1})]}),_:1})]),_:1})]),_:1}),n("div",Tt,[s(O,null,{default:e(()=>[s(G,{prev:o(E),next:o(F)},null,8,["prev","next"])]),_:1})])]}),_:1},8,["value"])]),_:1})}}});export{It as default};
