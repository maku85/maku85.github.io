import{_ as G}from"./Title.vue.53818bf5.js";import{_ as H}from"./ArticleItem.vue.e1477614.js";import{d as I,x as J,w as y,c as K,r as m,o as a,a as p,b as t,e as o,f as e,g as c,h as w,u as l,F as k,i as f,j as B,t as V,l as M}from"./entry.59ba0d85.js";import Q from"./ContentList.eaa07b33.js";import{_ as U}from"./index.c6543881.js";import{q as x,u as L}from"./query.7baca0fb.js";import"./ContentQuery.5aa713e5.js";import"./preview.46f514d0.js";import"./utils.b492bb45.js";const W={class:"article-list"},X={class:"articles__pager"},Y=e("span",{class:"ml-5"},null,-1),Z={class:"articles__sidebar"},tt={class:"articles__section"},et=e("h2",{class:"articles__heading"},"Recent Posts",-1),st=e("p",null,"No articles found.",-1),ot={class:"articles__items"},nt={class:"articles__section"},at=e("h2",{class:"articles__heading"},"Categories",-1),_t=e("p",null,"No categories found.",-1),it={class:"articles__items"},T=5,yt=I({__name:"index",async setup(ct){let s,_;const b=J().query.category;let r=0;const u={published:!0};b&&Object.assign(u,{tags:b});const j=([s,_]=y(()=>x("en/articles").only([]).where(u).find()),s=await s,_(),s).length,{data:D,refresh:F}=([s,_]=y(()=>L("posts",()=>x("en/articles").where(u).sort({date:-1}).skip(r).limit(T).find())),s=await s,_(),s),C={path:"/en/articles",where:[u],limit:15,sort:[{date:-1}]},{data:h}=([s,_]=y(()=>L("/",()=>x("/").findOne())),s=await s,_(),s),O=K(()=>{var i;return((i=h==null?void 0:h.value)==null?void 0:i.notes.categories)||[]});function N(i){r+=i,F(),window.scrollTo({top:0,behavior:"smooth"})}return(i,d)=>{const R=G,S=H,v=m("v-col"),q=m("v-row"),P=m("v-btn"),$=M,A=Q,E=m("v-container"),z=U;return a(),p(z,{id:"articles"},{default:t(()=>[o(R,{text:"Notes",subtitle:" Articles and Advice"}),o(E,null,{default:t(()=>[o(q,null,{default:t(()=>[o(v,{cols:"12",md:"12",lg:"8"},{default:t(()=>[e("div",W,[(a(!0),c(k,null,w(l(D),n=>(a(),p(q,{key:n.id,class:"articles__list mt-4 mb-8"},{default:t(()=>[o(v,null,{default:t(()=>[o(S,{article:n},null,8,["article"])]),_:2},1024)]),_:2},1024))),128))]),e("div",X,[l(r)>0?(a(),p(P,{key:0,class:"articles__button",variant:"flat",onClick:d[0]||(d[0]=n=>N(-5))},{default:t(()=>[f("prev")]),_:1})):B("",!0),Y,l(r)+T<l(j)?(a(),p(P,{key:1,class:"articles__button",variant:"flat",onClick:d[1]||(d[1]=n=>N(5))},{default:t(()=>[f("next")]),_:1})):B("",!0)])]),_:1}),o(v,{md:"12",lg:"4"},{default:t(()=>[e("div",Z,[e("aside",null,[e("section",tt,[et,o(A,{query:C},{"not-found":t(()=>[st]),default:t(({list:n})=>[e("ul",ot,[(a(!0),c(k,null,w(n,g=>(a(),c("li",{key:g._path},[o($,{class:"articles__item",to:"/notes"+g._path},{default:t(()=>[f(V(g.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),e("section",nt,[at,o(A,{query:C},{"not-found":t(()=>[_t]),default:t(()=>[e("ul",it,[(a(!0),c(k,null,w(l(O),n=>(a(),c("li",{key:n.path,class:"articles__item__wrapper"},[o($,{class:"articles__item",to:"/notes/categories/"+n.path},{default:t(()=>[f(V(n.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{yt as default};
