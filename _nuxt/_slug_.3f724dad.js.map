{"version":3,"file":"_slug_.3f724dad.js","sources":["../../../../node_modules/@unhead/vue/dist/index.mjs","../../../../components/Note/ArticleToc.vue","../../../../pages/notes/[lang]/articles/[slug].vue"],"sourcesContent":["import { whitelistSafeInput, unpackMeta, composableNames } from 'unhead';\nexport { createHeadCore } from 'unhead';\nimport { u as useHead, h as headSymbol, r as resolveUnrefHeadInput, s as serverUseHead } from './shared/vue.505b826e.mjs';\nexport { V as VueReactiveUseHeadPlugin, a as createHead, c as createServerHead, i as injectHead } from './shared/vue.505b826e.mjs';\nimport { getCurrentInstance, ref, watchEffect } from 'vue';\nimport { asArray } from '@unhead/shared';\n\nconst VueHeadMixin = {\n  created() {\n    const instance = getCurrentInstance();\n    if (!instance)\n      return;\n    const options = instance.type;\n    if (!options || !(\"head\" in options))\n      return;\n    const source = typeof options.head === \"function\" ? () => options.head.call(instance.proxy) : options.head;\n    useHead(source);\n  }\n};\n\nconst Vue2ProvideUnheadPlugin = function(_Vue, head) {\n  _Vue.mixin({\n    beforeCreate() {\n      const options = this.$options;\n      const origProvide = options.provide;\n      options.provide = function() {\n        let origProvideResult;\n        if (typeof origProvide === \"function\")\n          origProvideResult = origProvide.call(this);\n        else\n          origProvideResult = origProvide || {};\n        return {\n          ...origProvideResult,\n          [headSymbol]: head\n        };\n      };\n    }\n  });\n};\n\nfunction useHeadSafe(input, options = {}) {\n  return useHead(input, { ...options, transform: whitelistSafeInput });\n}\n\nfunction useSeoMeta(input, options) {\n  const headInput = ref({});\n  watchEffect(() => {\n    const resolvedMeta = resolveUnrefHeadInput(input);\n    const { title, titleTemplate, ...meta } = resolvedMeta;\n    headInput.value = {\n      title,\n      titleTemplate,\n      meta: unpackMeta(meta)\n    };\n  });\n  return useHead(headInput, options);\n}\n\nfunction useServerHead(input, options = {}) {\n  return serverUseHead(input, { ...options, mode: \"server\" });\n}\n\nfunction useServerHeadSafe(input, options = {}) {\n  return useHeadSafe(input, { ...options, mode: \"server\" });\n}\n\nfunction useServerSeoMeta(input, options) {\n  return useSeoMeta(input, { ...options || {}, mode: \"server\" });\n}\n\nfunction useTagTitle(title) {\n  return useHead({ title });\n}\nfunction useTitleTemplate(titleTemplate) {\n  return useHead({ titleTemplate });\n}\nfunction useTagMeta(meta) {\n  return useHead({ meta: asArray(meta) });\n}\nfunction useTagMetaFlat(meta) {\n  const input = ref({});\n  watchEffect(() => {\n    input.value = unpackMeta(resolveUnrefHeadInput(meta));\n  });\n  return useHead({ meta: input });\n}\nfunction useTagLink(link) {\n  return useHead({ link: asArray(link) });\n}\nfunction useTagScript(script) {\n  return useHead({ script: asArray(script) });\n}\nfunction useTagStyle(style) {\n  return useHead({ style: asArray(style) });\n}\nfunction useTagNoscript(noscript) {\n  return useHead({ noscript: asArray(noscript) });\n}\nfunction useTagBase(base) {\n  return useHead({ base });\n}\nfunction useHtmlAttrs(attrs) {\n  return useHead({ htmlAttrs: attrs });\n}\nfunction useBodyAttrs(attrs) {\n  return useHead({ bodyAttrs: attrs });\n}\nfunction useServerTagTitle(title) {\n  return useServerHead({ title });\n}\nfunction useServerTitleTemplate(titleTemplate) {\n  return useServerHead({ titleTemplate });\n}\nfunction useServerTagMeta(meta) {\n  return useServerHead({ meta: asArray(meta) });\n}\nfunction useServerTagMetaFlat(meta) {\n  const input = ref({});\n  watchEffect(() => {\n    input.value = unpackMeta(resolveUnrefHeadInput(meta));\n  });\n  return useServerHead({ meta: input });\n}\nfunction useServerTagLink(link) {\n  return useServerHead({ link: asArray(link) });\n}\nfunction useServerTagScript(script) {\n  return useServerHead({ script: asArray(script) });\n}\nfunction useServerTagStyle(style) {\n  return useServerHead({ style: asArray(style) });\n}\nfunction useServerTagNoscript(noscript) {\n  return useServerHead({ noscript: asArray(noscript) });\n}\nfunction useServerTagBase(base) {\n  return useServerHead({ base });\n}\nfunction useServerHtmlAttrs(attrs) {\n  return useServerHead({ htmlAttrs: attrs });\n}\nfunction useServerBodyAttrs(attrs) {\n  return useHead({ bodyAttrs: attrs });\n}\n\nconst coreComposableNames = [\n  \"injectHead\"\n];\nconst unheadVueComposablesImports = {\n  \"@unhead/vue\": [...coreComposableNames, ...composableNames]\n};\n\nexport { Vue2ProvideUnheadPlugin, VueHeadMixin, headSymbol, resolveUnrefHeadInput, unheadVueComposablesImports, useBodyAttrs, useHead, useHeadSafe, useHtmlAttrs, useSeoMeta, useServerBodyAttrs, useServerHead, useServerHeadSafe, useServerHtmlAttrs, useServerSeoMeta, useServerTagBase, useServerTagLink, useServerTagMeta, useServerTagMetaFlat, useServerTagNoscript, useServerTagScript, useServerTagStyle, useServerTagTitle, useServerTitleTemplate, useTagBase, useTagLink, useTagMeta, useTagMetaFlat, useTagNoscript, useTagScript, useTagStyle, useTagTitle, useTitleTemplate };\n","<script setup>\ndefineProps({\n  links: {\n    type: Array,\n    required: true,\n  },\n});\n\n// flatten TOC links nested arrays to one array\nconst flattenLinks = (links) => {\n  const _links = (links || [])\n    .map((link) => {\n      let _link = [link];\n      if (link.children) {\n        // recursively flatten children links\n        const flattened = flattenLinks(link.children);\n        _link = [link, ...flattened];\n      }\n      return _link;\n    })\n    .flat(1);\n  return _links;\n};\n</script>\n\n<template>\n  <nav class=\"toc\">\n    <header class=\"toc__header\">\n      <h2 class=\"toc__title\">Table of contents</h2>\n    </header>\n\n    <ul class=\"toc__links-container\">\n      <!-- render each link with depth class -->\n      <li\n        v-for=\"link of flattenLinks(links)\"\n        :key=\"link.id\"\n        :class=\"`toc__link-wrapper toc__link-wrapper--${link.depth}`\"\n      >\n        <NuxtLink class=\"toc__link\" :to=\"'#' + link.id\">{{ link.text }}</NuxtLink>\n      </li>\n    </ul>\n  </nav>\n</template>\n","<script lang=\"ts\" setup>\nconst route = useRoute();\nconst { lang, slug } = route.params;\nconst { data } = await useAsyncData(`article-${slug}`, async () => {\n  const article = queryContent(lang as string, 'articles')\n    .where({ _path: `/${lang}/articles/${slug}` })\n    .findOne();\n\n  const surround = queryContent()\n    .only(['_path', 'title', 'description'])\n    .sort({ date: 1 })\n    .findSurround(`/${lang}/articles/${slug}`);\n  return {\n    article: await article,\n    surround: await surround,\n  };\n});\nconst article = data?.value?.article;\nconst [prev, next] = data?.value?.surround || [];\n\nuseSeoMeta({\n  title: article?.title,\n  ogTitle: article?.title,\n  description: article?.description,\n  ogDescription: article?.description,\n  ogImage: `https://site.com/${article?.img}`,\n});\n</script>\n\n<template>\n  <v-container id=\"article\" fluid>\n    <ContentRenderer :value=\"article\">\n      <template #empty>\n        <p>No content found.</p>\n      </template>\n\n      <div class=\"article__header\">\n        <div class=\"article__titles\">\n          <div v-if=\"article?.tags.length\" class=\"article__categories_container\">\n            <NuxtLink\n              v-for=\"(tag, index) of article.tags\"\n              :key=\"tag\"\n              class=\"article__category\"\n              :to=\"'/notes/categories/' + tag\"\n            >\n              #{{ tag.toUpperCase() }}{{ index < article.tags.length - 1 ? ',' : '' }}&nbsp;\n            </NuxtLink>\n          </div>\n          <h1 class=\"article__title\">{{ article?.title }}</h1>\n\n          <ContentRendererMarkdown class=\"article__description\" :value=\"article?.excerpt\" />\n        </div>\n      </div>\n\n      <div class=\"article__image_container\">\n        <v-responsive class=\"article__image_wrapper\" min-width=\"100%\" max-height=\"740px\">\n          <img class=\"article__image\" :alt=\"article?.title\" :src=\"'/img/articles' + article?.img\" />\n        </v-responsive>\n\n        <div v-if=\"article?.credits\" class=\"article__image__credits\" v-html=\"article.credits\"></div>\n      </div>\n\n      <v-row class=\"article__container\">\n        <v-col cols=\"12\" sm=\"12\">\n          <v-row>\n            <v-col\n              v-if=\"article?.body?.toc?.links.length\"\n              cols=\"12\"\n              sm=\"3\"\n              class=\"order-first order-md-last\"\n            >\n              <note-article-toc class=\"toc pl-4 pb-4\" :links=\"article?.body?.toc?.links\" />\n            </v-col>\n\n            <v-col cols=\"12\" sm=\"9\" class=\"order-last order-md-first\">\n              <ContentRendererMarkdown class=\"article__content\" :value=\"article || {}\" />\n\n              <div\n                v-if=\"article?.tags.length\"\n                class=\"article__categories_container d-flex flex-wrap\"\n              >\n                <span class=\"article__categories_label\">Tags:</span>\n                <NuxtLink\n                  v-for=\"tag of article.tags\"\n                  :key=\"tag\"\n                  class=\"article__category\"\n                  :to=\"'/notes/categories/' + tag\"\n                >\n                  {{ tag }}\n                </NuxtLink>\n              </div>\n\n              <div class=\"line-left line-top\">\n                <div class=\"line-block\">\n                  <span></span>\n                </div>\n              </div>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n\n      <div class=\"articles__navigation\">\n        <v-container>\n          <note-prev-next :prev=\"prev\" :next=\"next\" />\n        </v-container>\n      </div>\n    </ContentRenderer>\n  </v-container>\n</template>\n"],"names":["useSeoMeta","input","options","headInput","ref","watchEffect","resolvedMeta","resolveUnrefHeadInput","title","titleTemplate","meta","unpackMeta","useHead","flattenLinks","links","link","_link","flattened","route","useRoute","lang","slug","data","__temp","__restore","_withAsyncContext","useAsyncData","article","queryContent","surround","_a","prev","next","_b"],"mappings":"0bA4CA,SAASA,GAAWC,EAAOC,EAAS,CAClC,MAAMC,EAAYC,EAAI,CAAA,CAAE,EACxB,OAAAC,EAAY,IAAM,CAChB,MAAMC,EAAeC,EAAsBN,CAAK,EAC1C,CAAE,MAAAO,EAAO,cAAAC,EAAe,GAAGC,CAAI,EAAKJ,EAC1CH,EAAU,MAAQ,CAChB,MAAAK,EACA,cAAAC,EACA,KAAME,EAAWD,CAAI,CAC3B,CACA,CAAG,EACME,EAAQT,EAAWD,CAAO,CACnC,6NC/CA,MAAMW,EAAgBC,IACJA,GAAS,CAAE,GACxB,IAAKC,GAAS,CACb,IAAIC,EAAQ,CAACD,CAAI,EACjB,GAAIA,EAAK,SAAU,CAEjB,MAAME,EAAYJ,EAAaE,EAAK,QAAQ,EAC5CC,EAAQ,CAACD,EAAM,GAAGE,CAAS,EAE7B,OAAOD,CACb,CAAK,EACA,KAAK,CAAC,mwDCnBX,MAAME,EAAQC,KACR,CAAE,KAAAC,EAAM,KAAAC,GAASH,EAAM,OACvB,CAAE,KAAAI,CAAA,GAAe,CAAAC,EAAAC,CAAA,EAAAC,GAAA,SAAAC,GAAa,WAAWL,IAAQ,SAAY,CACjE,MAAMM,EAAUC,EAAaR,EAAgB,UAAU,EACpD,MAAM,CAAE,MAAO,IAAIA,cAAiBC,GAAQ,CAAA,EAC5C,UAEGQ,EAAWD,EAAa,EAC3B,KAAK,CAAC,QAAS,QAAS,aAAa,CAAC,EACtC,KAAK,CAAE,KAAM,CAAE,CAAC,EAChB,aAAa,IAAIR,cAAiBC,GAAM,EACpC,MAAA,CACL,QAAS,MAAMM,EACf,SAAU,MAAME,CAAA,CAClB,CACD,CAAA,mBACKF,GAAUG,EAAAR,GAAA,YAAAA,EAAM,QAAN,YAAAQ,EAAa,QACvB,CAACC,EAAMC,CAAI,IAAIC,EAAAX,GAAA,YAAAA,EAAM,QAAN,YAAAW,EAAa,WAAY,GAEnC,OAAAjC,GAAA,CACT,MAAO2B,GAAA,YAAAA,EAAS,MAChB,QAASA,GAAA,YAAAA,EAAS,MAClB,YAAaA,GAAA,YAAAA,EAAS,YACtB,cAAeA,GAAA,YAAAA,EAAS,YACxB,QAAS,oBAAoBA,GAAA,YAAAA,EAAS,KAAA,CACvC","x_google_ignoreList":[0]}