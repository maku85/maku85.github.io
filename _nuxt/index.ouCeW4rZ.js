import{_ as E}from"./Title.vue.C4NtPqe0.js";import{_ as z}from"./ArticleItem.vue.CpwW0aFd.js";import{d as G,x as H,h as g,i as I,o as n,g as m,w as t,e as o,j as e,c as _,r as y,f as c,F as k,k as p,l as q,q as w,t as B,s as J}from"./entry.BnmiL985.js";import K from"./ContentList.C7iwuGBS.js";import{_ as M}from"./index.Bu-KYCQz.js";import{u as P}from"./asyncData.CzkvrNEc.js";import{V as $,a as x,b as Q}from"./VRow.qPvrKGtg.js";import{V as A}from"./VBtn.CRtovQBN.js";import"./ContentQuery.C6eT4Cfe.js";import"./VIcon.DBNuIeQE.js";const U={class:"article-list"},W={class:"articles__pager mt-4"},X=e("span",{class:"ml-5"},null,-1),Y={class:"articles__sidebar"},Z={class:"articles__section"},tt=e("h2",{class:"articles__heading"},"Recent Posts",-1),et=e("p",null,"No articles found.",-1),st={class:"articles__items"},ot={class:"articles__section"},at=e("h2",{class:"articles__heading"},"Categories",-1),nt=e("p",null,"No categories found.",-1),it={class:"articles__items"},L=5,kt=G({__name:"index",async setup(lt){let s,i;const v=H().query.category;let r=0;const u={published:!0};v&&Object.assign(u,{tags:v});const R=([s,i]=g(()=>w("en/articles").only([]).where(u).find()),s=await s,i(),s).length,{data:T,refresh:j}=([s,i]=g(()=>P("posts",()=>w("en/articles").where(u).sort({date:-1}).skip(r).limit(L).find())),s=await s,i(),s),C={path:"/en/articles",where:[u],limit:15,sort:[{date:-1}]},{data:f}=([s,i]=g(()=>P("/",()=>w("/").findOne())),s=await s,i(),s),D=I(()=>{var l;return((l=f==null?void 0:f.value)==null?void 0:l.notes.categories)||[]});function V(l){r+=l,j(),window.scrollTo({top:0,behavior:"smooth"})}return(l,d)=>{const F=E,O=z,b=J,N=K,S=M;return n(),m(S,{id:"articles"},{default:t(()=>[o(F,{text:"Notes",subtitle:" Articles and Advice"}),o(Q,null,{default:t(()=>[o($,null,{default:t(()=>[o(x,{cols:"12",md:"12",lg:"8"},{default:t(()=>[e("div",U,[(n(!0),_(k,null,y(c(T),a=>(n(),m($,{key:a.id,class:"articles__list"},{default:t(()=>[o(x,null,{default:t(()=>[o(O,{article:a},null,8,["article"])]),_:2},1024)]),_:2},1024))),128))]),e("div",W,[c(r)>0?(n(),m(A,{key:0,class:"articles__button",variant:"flat",onClick:d[0]||(d[0]=a=>V(-5))},{default:t(()=>[p("prev")]),_:1})):q("",!0),X,c(r)+L<c(R)?(n(),m(A,{key:1,class:"articles__button",variant:"flat",onClick:d[1]||(d[1]=a=>V(5))},{default:t(()=>[p("next")]),_:1})):q("",!0)])]),_:1}),o(x,{md:"12",lg:"4"},{default:t(()=>[e("div",Y,[e("aside",null,[e("section",Z,[tt,o(N,{query:C},{"not-found":t(()=>[et]),default:t(({list:a})=>[e("ul",st,[(n(!0),_(k,null,y(a,h=>(n(),_("li",{key:h._path},[o(b,{class:"articles__item",to:"/notes"+h._path},{default:t(()=>[p(B(h.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),e("section",ot,[at,o(N,{query:C},{"not-found":t(()=>[nt]),default:t(()=>[e("ul",it,[(n(!0),_(k,null,y(c(D),a=>(n(),_("li",{key:a.path,class:"articles__item__wrapper"},[o(b,{class:"articles__item",to:"/notes/categories/"+a.path},{default:t(()=>[p(B(a.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{kt as default};
//# sourceMappingURL=index.ouCeW4rZ.js.map
