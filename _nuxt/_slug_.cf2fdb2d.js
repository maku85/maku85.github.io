import{_ as G}from"./Title.vue.53818bf5.js";import{_ as H}from"./ArticleItem.vue.e1477614.js";import{d as I,x as J,w as y,c as K,r as d,o as a,a as p,b as t,e as o,u as l,g as c,h as k,F as x,f as s,i as f,j as B,t as V,l as M}from"./entry.59ba0d85.js";import Q from"./ContentList.eaa07b33.js";import{_ as U}from"./index.c6543881.js";import{q as b,u as L}from"./query.7baca0fb.js";import"./ContentQuery.5aa713e5.js";import"./preview.46f514d0.js";import"./utils.b492bb45.js";const W={class:"articles__pager"},X=s("span",{class:"ml-5"},null,-1),Y={class:"articles__sidebar"},Z={class:"articles__section"},tt=s("h2",{class:"articles__heading"},"Recent Posts",-1),et=s("p",null,"No articles found.",-1),st={class:"articles__items"},ot={class:"articles__section"},nt=s("h2",{class:"articles__heading"},"Categories",-1),at=s("p",null,"No categories found.",-1),_t={class:"articles__items"},T=5,vt=I({__name:"[slug]",async setup(lt){let e,_;const h=J().params.slug;let r=0;const u={published:!0};h&&Object.assign(u,{tags:{$contains:h}});const j=([e,_]=y(()=>b("en/articles").only([]).where(u).find()),e=await e,_(),e).length,{data:D,refresh:F}=([e,_]=y(()=>L("posts",()=>b("en/articles").where(u).sort({date:-1}).skip(r).limit(T).find())),e=await e,_(),e),C={path:"/en/articles",where:[u],limit:15,sort:[{date:-1}]},{data:g}=([e,_]=y(()=>L("settings",()=>b("/").findOne())),e=await e,_(),e),O=K(()=>{var i;return((i=g==null?void 0:g.value)==null?void 0:i.notes.categories)||[]});function N(i){r+=i,F(),window.scrollTo({top:0,behavior:"smooth"})}return(i,m)=>{const R=G,S=H,v=d("v-col"),$=d("v-row"),q=d("v-btn"),P=M,A=Q,E=d("v-container"),z=U;return a(),p(z,{id:"articles"},{default:t(()=>[o(R,{text:l(h)+" Notes",subtitle:" Articles and Advice"},null,8,["text"]),o(E,null,{default:t(()=>[o($,null,{default:t(()=>[o(v,{cols:"12",md:"12",lg:"8"},{default:t(()=>[(a(!0),c(x,null,k(l(D),n=>(a(),p($,{key:n.id,class:"articles__list mt-4 mb-8"},{default:t(()=>[o(v,null,{default:t(()=>[o(S,{article:n},null,8,["article"])]),_:2},1024)]),_:2},1024))),128)),s("div",W,[l(r)>0?(a(),p(q,{key:0,class:"articles__button",variant:"flat",onClick:m[0]||(m[0]=n=>N(-5))},{default:t(()=>[f("prev")]),_:1})):B("",!0),X,l(r)+T<l(j)?(a(),p(q,{key:1,class:"articles__button",variant:"flat",onClick:m[1]||(m[1]=n=>N(5))},{default:t(()=>[f("next")]),_:1})):B("",!0)])]),_:1}),o(v,{md:"12",lg:"4"},{default:t(()=>[s("div",Y,[s("aside",null,[s("section",Z,[tt,o(A,{query:C},{"not-found":t(()=>[et]),default:t(({list:n})=>[s("ul",st,[(a(!0),c(x,null,k(n,w=>(a(),c("li",{key:w._path,class:"articles__item__wrapper"},[o(P,{class:"articles__item",to:"/notes"+w._path},{default:t(()=>[f(V(w.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),s("section",ot,[nt,o(A,{query:C},{"not-found":t(()=>[at]),default:t(()=>[s("ul",_t,[(a(!0),c(x,null,k(l(O),n=>(a(),c("li",{key:n.path,class:"articles__item__wrapper"},[o(P,{class:"articles__item",to:"/notes/categories/"+n.path},{default:t(()=>[f(V(n.title),1)]),_:2},1032,["to"])]))),128))])]),_:1})])])])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{vt as default};
